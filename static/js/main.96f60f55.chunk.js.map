{"version":3,"sources":["utils/utils.ts","components/messageHistory/messageHistoryController/MessageHistory.stories.tsx","RemoteData/RemoteData.module.scss","UI/Button/Button.module.scss","App.module.scss","components/messageSender/messageSenderController/messageSenderContoller.module.scss","components/messageHistory/messageHistoryView/MessageHistoryView.module.scss","RemoteData/RemoteData.component.tsx","UI/AttachedFileView/IconTrash.svg","UI/AttachedFileView/clip.png","UI/Form/FileInput/clipper.svg","UI/Form/TextInput/Input.module.scss","components/messageSender/messageSenderView/MessageSender.module.scss","serviceWorker.ts","actions/actions.utils.ts","actions/messageSender.action.ts","reducers/utils.ts","reducers/MessageSender.reducer.ts","actions/messageHistory.action.ts","reducers/MessageHistory.reducer.ts","reducers/index.ts","api/api.config.ts","sagas/messageSender.saga.ts","sagas/messageHistory.saga.ts","sagas/index.ts","store/index.ts","components/messageSender/messageSenderController/MessageSender.fixture.ts","UI/Form/TextInput/Input.model.ts","UI/Form/utils.ts","UI/Form/TextInput/Input.config.ts","UI/Form/TextInput/Input.utils.ts","UI/Form/TextInput/Input.tsx","UI/AttachedFileView/AttachedFileView.utils.ts","UI/AttachedFileView/AttachedFileView.tsx","config/filesUpload.config.ts","UI/Form/FileInput/InputFile.tsx","components/messageSender/messageSenderView/MessageSender.config.ts","UI/Button/Button.tsx","UI/Form/DropZone/DropZone.utils.ts","UI/Form/DropZone/DropZone.tsx","components/messageSender/messageSenderView/MessageSender.view.tsx","components/messageSender/messageSenderController/MessageSender.config.ts","config/config.ts","components/messageSender/messageSenderController/MessageSender.utils.ts","components/messageSender/messageSenderController/MessageSender.controller.tsx","components/messageSender/messageSenderSuccess/messageSenderSuccess.view.tsx","containers/messageSender/MessageForm.container.tsx","containers/messageHistory/MessageHistory.container.tsx","App.tsx","index.tsx","UI/AttachedFileView/AttachedFileView.module.scss","UI/Form/DropZone/DropZone.module.scss","components/messageHistory/messageHistoryController/MessageHistory.model.ts","components/messageHistory/messageHistoryView/MessageHistory.config.ts","components/messageHistory/messageHistoryView/MessageHistory.view.tsx","components/messageHistory/messageHistoryView/MessageHistory.utils.ts","components/messageHistory/messageHistoryController/MessageHistory.utils.tsx","components/messageHistory/messageHistoryController/MessageHistory.controller.tsx","UI/Form/FileInput/InputFile.module.scss"],"names":["isDefined","variable","isNull","getFileFormatFromFileName","fileName","fileNameArray","split","length","EMPTY_STRING","EMPTY_ARRAY","MessageHistoryFixture","date","theme","status","storiesOf","module","add","errorMessage","loadingStatus","RemoteDataStatus","SUCCESS","getHistory","console","log","data","exports","RdErrorComponent","error","this","props","className","css","renderComponent","message","PureComponent","RdLoadingComponent","WithLoading","componentToRender","ComponentToRender","FAILURE","LOADING","INITIAL","rdDetectComponentToRender","children","withLoadingWrapper","Boolean","window","location","hostname","match","REQUEST","createRequestTypes","base","action","type","payload","resetToInitialAction","MESSAGE_FORM_TYPES","messageSenderAction","request","success","response","failure","initial","createReducer","initialState","state","messageSenderReducer","MESSAGE_HISTORY_TYPES","messageHistoryAction","messageHistoryReducer","rootReducer","combineReducers","api","Axios","create","baseURL","timeout","postMessage","actionWatcherMessageSender","postData","post","params","call","put","push","letter","subject","takeLatest","actionWatcherMessageHistory","getData","get","rootSaga","all","fork","sagaMiddleware","createSagaMiddleware","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","INPUT_POSITION","MAX_SYMBOLS_FOR_MESSAGE","INITIAL_TEXT_FIELD_ERROR_LIST","senderNameErrorMessage","senderEmailErrorMessage","recipientNameErrorMessage","recipientEmailErrorMessage","contentErrorMessage","emailTitleErrorMessage","INITIAL_STATE","senderName","senderEmail","recipientName","recipientEmail","emailTitle","attachedFiles","content","textFieldsErrors","filesErrorList","messageSymbolsLeft","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","fileListToAttachedFileAsync","files","a","arrFiles","Array","from","arrayWithPromises","map","filesInBase64","normalizedFiles","index","name","encoding","formLeftClassname","classNames","input","input_left","formRightClassname","input_right","isFieldEmpty","value","trim","EMAIL_VALIDATOR_REGEXP","isValidEmail","email","test","String","toLowerCase","UIInputField","placeholder","onChange","labelText","inputPosition","fieldName","inputClassName","formPosition","LEFT","RIGHT","detectInputPosition","formWFieldWrapper","label","htmlFor","inputAndErrorWrapper","id","formError","MAX_FILE_NAME_FOR_DISPLAY","UI_AttachedFileView","handleDeleteFile","onDelete","fileViewer","fileInfoBlock","src","clip","alt","fileNameExtension","fileNameCutted","slice","reformatFileNameForPreview","deleteBtn","onClick","deleteIcon","IconTrash","ACCEPTED_FILE_FORMATS","FILE_ATTACH_CONFIG","multiple","UIInputFile","disabled","clipper","clipperIcon","text","formFieldGrouped","formField","formField__grouped","formFieldSingle","formField__single","classname","button","button__mSize","button__submit","UIButton","setDNDConfig","onDropHandler","onDrop","acceptedFiles","DropZone","useCallback","useDropzone","getRootProps","isDragActive","dropZone","dropZoneInfoBlock","dropZoneInfoBlock__message","dropZoneInfoBlock__title","dropZoneInfoBlock__description","MessageSenderView","applyForm","onDeleteFile","onInputFilesChange","onDropZoneChange","onSenderNameChange","onSenderEmailChange","onRecipientNameChange","onRecipientEmailChange","onEmailTitleChange","onLetterContentChange","messageSender","symbolsLeft","fileAttachedPreview","i","key","uploadFileBtnWrapper","fileError","sendBtnWrapper","FIELDS_ERRORS","EMPTY_FIELD","INVALID_EMAIL","INVALID_SINGLE_FILE_SIZE","INVALID_TOTAL_FILE_SIZE","INVALID_FILE_FORMAT","FILE_PARSE_ERROR","fieldsValidationRules","validator","attachedFilesValidationRules","checkSingleFileSize","fileSizesPerFile","some","fileSize","MAX_FILE_SIZE_IN_MB","checkTotalFilesSize","attachedFilesSizeTotal","reduce","prev","current","checkFileFormat","filesFormats","fileFormat","indexOf","getErrorMessageFromValidator","rule","getOneErrorMessageFromErrorList","messages","filter","MessageSenderController","sendMessage","isFieldsvalid","attaches","sendwhen","mca","setState","validateTextFieldFields","fieldsError","field","Object","keys","every","handleFieldChange","e","target","symbolsInCurrentMessage","handleFilesAdd","fileList","filesSizePerFile","size","event","updatedFileList","loadingWrapper","successMessage","MessageSenderSuccessContainer","MessageSenderSuccessView","reset","MessageSenderContainer","connect","dispatch","MessageHistoryContainer","MessageHistoryController","App","background","contentWrapper","Component","store","createStore","applyMiddleware","run","configureStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","SORT_FIELD","statusClassNameError","tdStatus","tdStatus_error","statusClassNameSuccess","tdStatus_success","statusClassNameInProgress","tdStatus_inprogress","arrowUp","style","color","fontSize","arrowDown","MessageHistoryView","sortByTheme","sortByDate","sortField","isSortOrderDesc","messageHistoryBlock","tableTitle","tableHistory","tableHead","columnName","thStatus","item","tdDate","tdTheme","title","getMessageStatus","emptyHistory","sortNumAndString","b","sortDate","dateA","dateB","dateAInMS","moment","unix","dateBInMS","changeSortOrder","currentSortField","clickedSortField","sortByField","sortFunc","sort","itemA","itemB","dataUI","FIELD_THEME","isSortOrderDescModified","sortedData","FIELD_DATE"],"mappings":"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","file":"static/js/main.96f60f55.chunk.js","sourcesContent":["export const isDefined = <T>(variable: T): boolean => typeof variable !== \"undefined\";\r\nexport const isNull = <T>(variable: T): boolean => variable === null;\r\n\r\n\r\nexport function getFileFormatFromFileName(fileName: string) {\r\n    const fileNameArray = fileName.split('.');\r\n    return fileNameArray[fileNameArray.length - 1];\r\n}\r\n\r\nexport const EMPTY_STRING = '';\r\nexport const EMPTY_ARRAY = [];\r\n","import React from 'react';\r\n\r\nimport { storiesOf } from '@storybook/react';\r\nimport { MessageHistoryController } from './MessageHistory.controller';\r\nimport { RemoteDataStatus } from '../../../RemoteData/RemoteData.component';\r\n\r\nexport let MessageHistoryFixture = [\r\n    {\r\n        date: '01.01.05',\r\n        theme: 'Тема письма, которая не поместится в эту строку, потому что там се и то',\r\n        status: -2\r\n    },\r\n    {\r\n        date: '01.01.06',\r\n        theme: 'Test 1',\r\n        status: 1\r\n    },\r\n    {\r\n        date: '01.01.07',\r\n        theme: 'Test 2',\r\n        status: -1\r\n    }\r\n];\r\n\r\nstoriesOf(\"Message History table\", module)\r\n    .add(\"Regular\",\r\n\r\n        () => <MessageHistoryController errorMessage={null} loadingStatus={RemoteDataStatus.SUCCESS} getHistory={() => console.log('get history')} data={MessageHistoryFixture}/>\r\n    )\r\n    .add(\"With Empty Data\",\r\n        () => <MessageHistoryController errorMessage={null} loadingStatus={RemoteDataStatus.SUCCESS} getHistory={() => console.log('get history')} data={[]}/>\r\n    )\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"withLoadingWrapper\":\"RemoteData_withLoadingWrapper__1rest\",\"renderComponent\":\"RemoteData_renderComponent__2ejKx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3gpoF\",\"button__mSize\":\"Button_button__mSize__3D8MR\",\"button__submit\":\"Button_button__submit__3hvKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"App_background__3MUKr\",\"contentWrapper\":\"App_contentWrapper__2PpQi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingWrapper\":\"messageSenderContoller_loadingWrapper__2p5R_\",\"successMessage\":\"messageSenderContoller_successMessage__XNv1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageHistoryBlock\":\"MessageHistoryView_messageHistoryBlock__pqDKr\",\"tableTitle\":\"MessageHistoryView_tableTitle__1bW5o\",\"tableHistory\":\"MessageHistoryView_tableHistory__3quBg\",\"emptyHistory\":\"MessageHistoryView_emptyHistory__BIXQN\",\"tableHead\":\"MessageHistoryView_tableHead__3yk5D\",\"columnName\":\"MessageHistoryView_columnName__cgFxa\",\"tdStatus\":\"MessageHistoryView_tdStatus__27ZLy\",\"tdStatus_error\":\"MessageHistoryView_tdStatus_error__2JWHy\",\"tdStatus_success\":\"MessageHistoryView_tdStatus_success__2VDuV\",\"tdStatus_inprogress\":\"MessageHistoryView_tdStatus_inprogress__hjr3Y\",\"tdTheme\":\"MessageHistoryView_tdTheme__3IXTG\",\"tdDate\":\"MessageHistoryView_tdDate__2SGsg\",\"thStatus\":\"MessageHistoryView_thStatus__3uGHA\"};","import React, { PureComponent } from 'react'\r\nimport { isNull } from '../utils/utils';\r\nimport { TNullOrError } from '../models/sharedModels';\r\nimport css from './RemoteData.module.scss';\r\n\r\nexport enum RemoteDataStatus {\r\n    INITIAL = '* INITIAL *',\r\n    LOADING = '* LOADING *',\r\n    SUCCESS = '* SUCCESS *',\r\n    FAILURE = '* FAILURE *',\r\n}\r\n\r\nclass RdErrorComponent extends PureComponent<{error: TNullOrError}> {\r\n    render() {\r\n        const {error} = this.props;\r\n        return ( <div className={css.renderComponent}>\r\n                {\r\n                    // @ts-ignore\r\n                    isNull(error) ? 'Error happened' : error.message\r\n                }\r\n            </div>\r\n            )\r\n    }\r\n}\r\nclass RdLoadingComponent extends PureComponent {\r\n    render() {\r\n        return <div className={css.renderComponent}>LOADING</div>\r\n    }\r\n}\r\n\r\ntype TWithLoadingProps = {\r\n    status: RemoteDataStatus,\r\n    error: TNullOrError\r\n    children: any\r\n}\r\n\r\nexport class WithLoading extends PureComponent<TWithLoadingProps>{\r\n    render() {\r\n        const { status, error, children } = this.props;\r\n        const componentToRender = rdDetectComponentToRender(status, children, error);\r\n        return <div className={css.withLoadingWrapper}>{componentToRender}</div>\r\n    }\r\n}\r\n\r\nfunction rdDetectComponentToRender<P>(status: RemoteDataStatus, ComponentToRender: React.ReactNode, error: TNullOrError) {\r\n    switch (status) {\r\n        case RemoteDataStatus.FAILURE:\r\n            return <RdErrorComponent error={error}/>;\r\n        case RemoteDataStatus.LOADING:\r\n            return <RdLoadingComponent/>;\r\n        case RemoteDataStatus.SUCCESS:\r\n            return ComponentToRender;\r\n        case RemoteDataStatus.INITIAL:\r\n            return ComponentToRender\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/IconTrash.ba899406.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE+SURBVHgB7ZfvcYMwDMVfNmCDMgIjeBRv0G4A3aAbMEJHoBu0G6QbkA1a65DuFIIJNlb4knf3jsNY1g//w5xgoyr4NdgF11x2Cf4Jfg/+xQNEAGPwn/L8vmdYM7UqWYepR0R1sA8+8/OzFUyrEjQr9Sj5J9cdYAhRb6hPMN8c41BIqRAih4K9kgshGtmHQpBkeF6QqRjEG6alSfYb2hn2gCxB6Mk33y/WlD009yDo6tiyX3SRthwyJ+sWCL1BNap8rkqBehhCiGIgPbYNXRGINpKsR8Zq2wsx4jrZYRDNE8ISQoMcCqFhzCF8TlBpCNKA9F2uOESlAg+DAAekfHxMIEgpPWIGIZI54pAOIUt7NwTJY/2NYhAaZikuSx+4Pll5TEe/4Q6EiTrcHvdkIptCnBbKak5KvmD6cf6Csf4BcprctqACIUgAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/clipper.72d65e82.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWFieldWrapper\":\"Input_formWFieldWrapper__3O8ue\",\"label\":\"Input_label__1Ap1r\",\"input\":\"Input_input__2j4Ah\",\"input_left\":\"Input_input_left__3VZ33\",\"input_right\":\"Input_input_right__1tGVp\",\"formError\":\"Input_formError__3Qyqd\",\"inputAndErrorWrapper\":\"Input_inputAndErrorWrapper__2mrlb\",\"textArea\":\"Input_textArea__3nVsT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formField\":\"MessageSender_formField__3adVh\",\"formField__grouped\":\"MessageSender_formField__grouped__dKdPK\",\"formField__single\":\"MessageSender_formField__single__19APp\",\"messageSender\":\"MessageSender_messageSender__1etxC\",\"fileAttachedPreview\":\"MessageSender_fileAttachedPreview__1RmUg\",\"sendBtnWrapper\":\"MessageSender_sendBtnWrapper__zmyLJ\",\"fileError\":\"MessageSender_fileError__15YJU\",\"symbolsLeft\":\"MessageSender_symbolsLeft__3-RHz\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const REQUEST = 'REQUEST';\r\nexport const SUCCESS = 'SUCCESS';\r\nexport const FAILURE = 'FAILURE';\r\nexport const INITIAL = 'INITIAL';\r\n\r\nexport type TREQUEST_TYPE = {\r\n    REQUEST: string,\r\n    SUCCESS: string,\r\n    FAILURE: string,\r\n    INITIAL: string\r\n}\r\n\r\nexport function createRequestTypes(base: string): TREQUEST_TYPE {\r\n    return {\r\n        REQUEST: `${base}_${REQUEST}`,\r\n        SUCCESS: `${base}_${SUCCESS}`,\r\n        FAILURE: `${base}_${FAILURE}`,\r\n        INITIAL: `${base}_${INITIAL}`,\r\n    }\r\n}\r\n\r\nexport type TPayload = {type: string}\r\n\r\nexport type TAction<T> = {\r\n    type: string,\r\n    payload: T\r\n}\r\n\r\nexport type TActionEmpty = {\r\n    type: string\r\n}\r\n\r\nexport function action<T>(type: string, payload: T): TAction<T>  {\r\n    return {type, payload}\r\n}\r\nexport function actionWithoutPayload(type: string): TActionEmpty {\r\n    return {type}\r\n}\r\n\r\nexport function resetToInitialAction(type: string): TPayload  {\r\n    return {type}\r\n}\r\n","import {\r\n    action,\r\n    createRequestTypes,\r\n    SUCCESS,\r\n    FAILURE,\r\n    REQUEST,\r\n    INITIAL,\r\n    TAction,\r\n    resetToInitialAction,\r\n    TPayload\r\n} from './actions.utils';\r\nimport { TAttachedFile } from '../components/messageSender/messageSenderController/MessageSender.model';\r\n\r\nexport const MESSAGE_FORM_TYPES = createRequestTypes('MESSAGE_FORM');\r\n\r\n\r\nexport type TMessageSenderRequest = {\r\n    request: {\r\n        action: string,\r\n        letter: {\r\n            subject: string,\r\n            \"from.name\": string,\r\n            \"from.email\": string,\r\n            \"to.name\": string,\r\n            \"message\": {\r\n                \"text\":  string\r\n            },\r\n            attaches: TAttachedFile[],\r\n        },\r\n        sendwhen: string,\r\n        mca: string[]\r\n    }\r\n}\r\nexport type TMessageSenderError = {errorMessage: Error}\r\n\r\nexport type TMessageSenderResponse = {\r\n    \"track.id\": number\r\n}\r\n\r\nexport const messageSenderAction = {\r\n    request: (request: TMessageSenderRequest): TAction<TMessageSenderRequest> => action(MESSAGE_FORM_TYPES[REQUEST], request),\r\n    success: (response: TMessageSenderResponse): TAction<TMessageSenderResponse> => action(MESSAGE_FORM_TYPES[SUCCESS], response),\r\n    failure: (errorMessage: Error): TAction<TMessageSenderError> => action(MESSAGE_FORM_TYPES[FAILURE], {errorMessage}),\r\n    initial: (): TPayload => resetToInitialAction(MESSAGE_FORM_TYPES[INITIAL]),\r\n};\r\n\r\n","import { FAILURE, INITIAL, REQUEST, SUCCESS, TAction, TREQUEST_TYPE } from '../actions/actions.utils';\r\nimport { RemoteDataStatus } from '../RemoteData/RemoteData.component';\r\n\r\nexport const createReducer = <S, A>(initialState: S, request: TREQUEST_TYPE) => {\r\n    return <S>(state = initialState, action: TAction<A>) => {\r\n            switch (action.type) {\r\n                case request[REQUEST]:\r\n                    return {...state, loadingStatus: RemoteDataStatus.LOADING};\r\n                case request[FAILURE]:\r\n                    return {...state, ...action.payload, loadingStatus: RemoteDataStatus.FAILURE};\r\n                case request[SUCCESS]:\r\n                    return {...state, ...action.payload, loadingStatus: RemoteDataStatus.SUCCESS};\r\n                case request[INITIAL]:\r\n                    return initialState;\r\n                default:\r\n                    return initialState;\r\n            }\r\n        }\r\n};\r\n","import { RemoteDataStatus } from '../RemoteData/RemoteData.component';\r\nimport { TNullOrError } from '../models/sharedModels';\r\nimport { MESSAGE_FORM_TYPES, TMessageSenderRequest, TMessageSenderResponse } from '../actions/messageSender.action';\r\nimport { createReducer } from './utils';\r\n\r\nexport type TMessageSenderState = {\r\n    request?: TMessageSenderRequest,\r\n    response?: TMessageSenderResponse,\r\n    loadingStatus: RemoteDataStatus,\r\n    errorMessage: TNullOrError\r\n}\r\n\r\nconst initialState: TMessageSenderState = {\r\n    loadingStatus: RemoteDataStatus.INITIAL,\r\n    errorMessage: null\r\n};\r\n\r\nexport const messageSenderReducer = createReducer(initialState, MESSAGE_FORM_TYPES);\r\n","import {\r\n    action, actionWithoutPayload,\r\n    createRequestTypes,\r\n    FAILURE,\r\n    INITIAL,\r\n    REQUEST,\r\n    resetToInitialAction,\r\n    SUCCESS,\r\n    TAction, TActionEmpty,\r\n    TPayload\r\n} from './actions.utils';\r\nimport { TMessageHistoryItem } from '../components/messageHistory/messageHistoryController/MessageHistory.model';\r\nexport const MESSAGE_HISTORY_TYPES = createRequestTypes('MESSAGE_HISTORY');\r\n\r\nexport type TMessageHistoryError = {errorMessage: Error}\r\nexport type TMessageHistoryResponse = {\r\n    data: TMessageHistoryItem[]\r\n}\r\n\r\nexport const messageHistoryAction = {\r\n    request: (): TActionEmpty => actionWithoutPayload(MESSAGE_HISTORY_TYPES[REQUEST]),\r\n    success: (response: TMessageHistoryResponse): TAction<TMessageHistoryResponse> => action(MESSAGE_HISTORY_TYPES[SUCCESS], response),\r\n    failure: (errorMessage: Error): TAction<TMessageHistoryError> => action(MESSAGE_HISTORY_TYPES[FAILURE], {errorMessage}),\r\n    initial: (): TPayload => resetToInitialAction(MESSAGE_HISTORY_TYPES[INITIAL]),\r\n};\r\n","import { RemoteDataStatus } from '../RemoteData/RemoteData.component';\r\nimport { createReducer } from './utils';\r\nimport { TNullOrError } from '../models/sharedModels';\r\nimport { MESSAGE_HISTORY_TYPES } from '../actions/messageHistory.action';\r\nimport { TMessageHistoryItem } from '../components/messageHistory/messageHistoryController/MessageHistory.model';\r\n\r\nexport type TMessageHistoryState = {\r\n    data: TMessageHistoryItem[],\r\n    loadingStatus: RemoteDataStatus,\r\n    errorMessage: TNullOrError\r\n}\r\n\r\nconst initialState: TMessageHistoryState = {\r\n    data: [],\r\n    loadingStatus: RemoteDataStatus.SUCCESS,\r\n    errorMessage: null\r\n};\r\n\r\nexport const messageHistoryReducer = createReducer(initialState, MESSAGE_HISTORY_TYPES);\r\n","import { combineReducers } from 'redux'\r\nimport { messageSenderReducer, TMessageSenderState } from './MessageSender.reducer';\r\nimport { messageHistoryReducer, TMessageHistoryState } from './MessageHistory.reducer';\r\n\r\nexport type ApplicationState = {\r\n    messageSenderReducer: TMessageSenderState,\r\n    messageHistoryReducer: TMessageHistoryState\r\n}\r\n\r\nexport const rootReducer = combineReducers<ApplicationState>({\r\n    messageSenderReducer,\r\n    messageHistoryReducer\r\n});\r\n","import Axios from 'axios';\r\nexport const api = Axios.create({\r\n    baseURL: 'https://jsonplaceholder.typicode.com',\r\n    timeout: 5000,\r\n});\r\n","import { api } from '../api/api.config';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { takeLatest } from 'redux-saga/effects'\r\nimport { REQUEST, TAction } from '../actions/actions.utils';\r\nimport { MESSAGE_FORM_TYPES, messageSenderAction, TMessageSenderRequest } from '../actions/messageSender.action';\r\nimport { MessageHistoryFixture } from '../components/messageHistory/messageHistoryController/MessageHistory.stories';\r\nimport { messageHistoryAction } from '../actions/messageHistory.action';\r\n\r\nconst postData = (request: any) => api.post(`/posts`);\r\nexport function* postMessage (params: TAction<TMessageSenderRequest>) {\r\n    const {request} = params.payload\r\n    try {\r\n        // simulate HTTP-request,\r\n        const response = yield call(postData, request);\r\n        // add toFixture element\r\n        // simulate HTTP-response,\r\n        yield put(messageSenderAction.success({'track.id': 1}))\r\n\r\n        // Simulate request for retrieving updated data\r\n        MessageHistoryFixture.push({theme: request.letter.subject, status: 0, date: '11.10.19'});\r\n        yield put(messageHistoryAction.request())\r\n    } catch (e) {\r\n        yield put(messageSenderAction.failure(e))\r\n    }\r\n}\r\nexport function* actionWatcherMessageSender() {\r\n    // @ts-ignore\r\n    yield takeLatest(MESSAGE_FORM_TYPES[REQUEST], postMessage);\r\n}\r\n","import { api } from '../api/api.config';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { takeLatest, } from 'redux-saga/effects'\r\nimport { REQUEST } from '../actions/actions.utils';\r\nimport { MESSAGE_HISTORY_TYPES, messageHistoryAction } from '../actions/messageHistory.action';\r\nimport { MessageHistoryFixture } from '../components/messageHistory/messageHistoryController/MessageHistory.stories';\r\n\r\nconst getData = () => api.get(`/posts`);\r\nexport function* getHistory () {\r\n    try {\r\n        const response = yield call(getData)\r\n        // simulate success http-response\r\n        yield put(messageHistoryAction.success({data: MessageHistoryFixture}))\r\n\r\n    } catch (e) {\r\n        yield put(messageHistoryAction.failure(e))\r\n    }\r\n}\r\nexport function* actionWatcherMessageHistory() {\r\n    // @ts-ignore\r\n    yield takeLatest(MESSAGE_HISTORY_TYPES[REQUEST], getHistory)\r\n}\r\n","import { fork, all } from '@redux-saga/core/effects';\r\nimport { actionWatcherMessageSender } from './messageSender.saga';\r\nimport { actionWatcherMessageHistory } from './messageHistory.saga';\r\n\r\nexport function* rootSaga() {\r\n    yield all([\r\n        fork(actionWatcherMessageSender),\r\n        fork(actionWatcherMessageHistory)\r\n    ])\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport { rootReducer } from '../reducers';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { rootSaga } from '../sagas';\r\nconst sagaMiddleware = createSagaMiddleware();\r\n// @ts-ignore\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport function configureStore() {\r\n    const store = createStore(rootReducer, composeEnhancer(applyMiddleware(sagaMiddleware)));\r\n    sagaMiddleware.run(rootSaga);\r\n    return store\r\n}\r\n","import { EMPTY_ARRAY, EMPTY_STRING } from '../../../utils/utils';\r\nimport { TMessageSenderControllerState } from './MessageSender.model';\r\n\r\nexport const MAX_SYMBOLS_FOR_MESSAGE = 200;\r\n\r\nexport const INITIAL_FILES_ERROR_LIST = {\r\n    filesErrorList: [],\r\n};\r\n\r\nconst INITIAL_TEXT_FIELD_ERROR_LIST = {\r\n    senderNameErrorMessage: EMPTY_STRING,\r\n    senderEmailErrorMessage: EMPTY_STRING,\r\n    recipientNameErrorMessage: EMPTY_STRING,\r\n    recipientEmailErrorMessage: EMPTY_STRING,\r\n    contentErrorMessage: EMPTY_STRING,\r\n    emailTitleErrorMessage: EMPTY_STRING,\r\n};\r\n\r\nconst INITIAL_FIELDS_DATA = {\r\n    senderName: EMPTY_STRING,\r\n    senderEmail: EMPTY_STRING,\r\n    recipientName: EMPTY_STRING,\r\n    recipientEmail: EMPTY_STRING,\r\n    emailTitle: EMPTY_STRING,\r\n    attachedFiles: EMPTY_ARRAY,\r\n    content: EMPTY_STRING\r\n};\r\n\r\n\r\nexport const INITIAL_STATE: TMessageSenderControllerState = {\r\n    ...INITIAL_FIELDS_DATA,\r\n    textFieldsErrors: {...INITIAL_TEXT_FIELD_ERROR_LIST},\r\n    ...INITIAL_FILES_ERROR_LIST,\r\n    messageSymbolsLeft: MAX_SYMBOLS_FOR_MESSAGE\r\n}\r\n","import React from 'react';\r\n\r\nexport type TUI_InputProps = {\r\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n    placeholder: string;\r\n    errorMessage?: string;\r\n    labelText?: string;\r\n    inputPosition?: INPUT_POSITION;\r\n    value: string,\r\n    fieldName: string,\r\n}\r\n\r\nexport enum INPUT_POSITION {\r\n    LEFT = '* LEFT *',\r\n    RIGHT = '* RIGHT *',\r\n}\r\n","export type TBase64 = string | ArrayBuffer | null;\r\nexport const toBase64 = (file: File) => new Promise<TBase64>((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n});\r\n\r\nexport const fileListToAttachedFileAsync = async (files: File[]) => {\r\n    const arrFiles = Array.from(files);\r\n    const arrayWithPromises = arrFiles.map((file: File) => toBase64(file));\r\n    const filesInBase64 = await Promise.all(arrayWithPromises); // each file in base64\r\n    const normalizedFiles = arrFiles.map((file: File, index: number) => ({\r\n        name: file.name,\r\n        content: filesInBase64[index],\r\n        encoding : \"base64\"\r\n    }));\r\n    return normalizedFiles\r\n\r\n};\r\n","import classNames from 'classnames';\r\nimport css from './Input.module.scss';\r\n\r\nexport const formLeftClassname = classNames(css.input, css.input_left);\r\nexport const formRightClassname = classNames(css.input, css.input_right);\r\n","import css from './Input.module.scss';\r\nimport { formLeftClassname, formRightClassname } from './Input.config';\r\nimport { INPUT_POSITION } from './Input.model';\r\n\r\nexport const detectInputPosition = (formPosition?: INPUT_POSITION) => {\r\n    switch (formPosition) {\r\n        case INPUT_POSITION.LEFT:\r\n            return formLeftClassname;\r\n        case INPUT_POSITION.RIGHT:\r\n            return formRightClassname;\r\n        default:\r\n            return css.input;\r\n    }\r\n};\r\n\r\nexport const isFieldEmpty = (value: string) => value.trim().length === 0;\r\n\r\nconst EMAIL_VALIDATOR_REGEXP = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\nexport const isValidEmail = (email: string) => !EMAIL_VALIDATOR_REGEXP.test(String(email).toLowerCase());\r\n","import React from 'react';\r\nimport css from './Input.module.scss';\r\nimport { isDefined } from '../../../utils/utils';\r\nimport { detectInputPosition } from './Input.utils';\r\nimport { TUI_InputProps } from './Input.model';\r\n\r\nexport const UIInputField = (props: TUI_InputProps) => {\r\n    const {\r\n        placeholder,\r\n        errorMessage,\r\n        onChange,\r\n        labelText,\r\n        inputPosition,\r\n        fieldName,\r\n        value,\r\n    } = props;\r\n    const inputClassName = detectInputPosition(inputPosition);\r\n    return (\r\n        <div className={css.formWFieldWrapper}>\r\n            {isDefined(labelText) && <label className={css.label} htmlFor={fieldName}>{labelText}</label>}\r\n            <div className={css.inputAndErrorWrapper}>\r\n                <input type=\"text\"\r\n                       value={value}\r\n                       id={fieldName}\r\n                       onChange={onChange}\r\n                       placeholder={placeholder}\r\n                       className={inputClassName}\r\n                />\r\n                {/*<textarea className={css.textArea}></textarea>*/}\r\n                {errorMessage && <div className={css.formError}>{errorMessage}</div>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import { getFileFormatFromFileName } from '../../utils/utils';\r\n\r\nconst MAX_FILE_NAME_FOR_DISPLAY = 20;\r\n\r\nexport function reformatFileNameForPreview(fileName: string) {\r\n    if (fileName.length > MAX_FILE_NAME_FOR_DISPLAY) {\r\n        const fileNameExtension = getFileFormatFromFileName(fileName);\r\n        const fileNameCutted = fileName.slice(0, MAX_FILE_NAME_FOR_DISPLAY);\r\n        return `${fileNameCutted}...${fileNameExtension}`\r\n    } else {\r\n        return fileName\r\n    }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport css from './AttachedFileView.module.scss';\r\nimport IconTrash from './IconTrash.svg';\r\nimport clip from './clip.png';\r\nimport { reformatFileNameForPreview } from './AttachedFileView.utils';\r\n\r\ntype TUI_UploadFileProps = {\r\n    onDelete: (fileName: string) => void;\r\n    fileName: string,\r\n}\r\n\r\nexport class UI_AttachedFileView extends PureComponent<TUI_UploadFileProps> {\r\n\r\n    handleDeleteFile = () => {\r\n        const {onDelete, fileName} = this.props;\r\n        onDelete(fileName)\r\n    };\r\n\r\n    render() {\r\n        const {fileName} = this.props;\r\n        return (\r\n            <div className={css.fileViewer}>\r\n                <div className={css.fileInfoBlock}>\r\n                    <img src={clip} className={css.clip} alt=\"clip\"/>\r\n                    <span className={css.fileName}>{reformatFileNameForPreview(fileName)}</span>\r\n                </div>\r\n                <div className={css.deleteBtn} onClick={this.handleDeleteFile}>\r\n                    <img className={css.deleteIcon} src={IconTrash} alt=\"delete icon\"/>\r\n                    <span>Удалить</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export const ACCEPTED_FILE_FORMATS = ['png', 'jpg', 'jpeg', 'gif', 'pdf', 'doc', 'xls', 'zip', 'rar', '7zip', 'tgz'];\r\n\r\nexport const FILE_ATTACH_CONFIG = {\r\n    multiple: true\r\n};\r\n\r\n// 5e+6 = 5mb\r\nconst BYTES_IN_MB = 1e+6;\r\nexport const MAX_FILE_SIZE_IN_MB = 5;\r\nexport const MAX_FILE_SIZE_IN_B = MAX_FILE_SIZE_IN_MB * BYTES_IN_MB;\r\nexport const MAX_TOTAL_FILES_SIZE_IN_MB = 20;\r\nexport const MAX_TOTAL_FILES_SIZE_IN_B = MAX_TOTAL_FILES_SIZE_IN_MB * BYTES_IN_MB;\r\n","import React, { ChangeEvent } from 'react';\r\nimport css from './InputFile.module.scss';\r\nimport clipper from './clipper.svg';\r\nimport { FILE_ATTACH_CONFIG } from '../../../config/filesUpload.config';\r\n\r\ntype TUI_InputFileProps = {\r\n    onChange: (event: ChangeEvent<HTMLInputElement>) => void;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport const UIInputFile = (props: TUI_InputFileProps) => {\r\n    const {disabled, onChange} = props;\r\n    return (\r\n\t    <label className={css.label}>\r\n            <img src={clipper} className={css.clipperIcon} alt=\"clip\"/>\r\n            <span className={css.text}>\r\n                Прикрепить файл\r\n            </span>\r\n            <input\r\n                className={css.input}\r\n                disabled={disabled}\r\n                type=\"file\"\r\n                onChange={onChange}\r\n                {...FILE_ATTACH_CONFIG}\r\n            />\r\n        </label>\r\n    )\r\n};\r\n","import classNames from 'classnames';\r\nimport css from './MessageSender.module.scss';\r\n\r\nexport const formFieldGrouped = classNames(css.formField, css.formField__grouped);\r\nexport const formFieldSingle = classNames(css.formField, css.formField__single);\r\n\r\n","import React from 'react';\r\nimport css from './Button.module.scss';\r\nimport classNames from 'classnames'\r\n\r\ntype TButtonProps = {\r\n    onClick: () => void;\r\n    text: string;\r\n    disabled?: boolean;\r\n}\r\n\r\nconst classname = classNames(css.button, css.button__mSize, css.button__submit);\r\n\r\nexport const UIButton = (props: TButtonProps) => {\r\n    const { onClick, disabled} = props;\r\n    return (\r\n        <button disabled={disabled}\r\n                className={classname}\r\n                onClick={onClick}>\r\n            {props.text}\r\n        </button>\r\n    )\r\n};\r\n","import { FILE_ATTACH_CONFIG } from '../../../config/filesUpload.config';\r\n\r\nexport const setDNDConfig = (onDropHandler: (files: File[]) => void) => {\r\n    return {\r\n        onDrop: (acceptedFiles: File[]) => {\r\n            onDropHandler(acceptedFiles)\r\n        },\r\n        ...FILE_ATTACH_CONFIG\r\n    }\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport css from './DropZone.module.scss';\r\nimport { setDNDConfig } from './DropZone.utils';\r\n\r\ntype TDropZoneProps = {\r\n    onDropHandler: Function;\r\n    children: JSX.Element\r\n}\r\n\r\nexport const DropZone = (props: TDropZoneProps) => {\r\n    const { onDropHandler } = props;\r\n    const onDrop = useCallback(acceptedFiles => {\r\n        onDropHandler(acceptedFiles)\r\n    }, []);\r\n    const {getRootProps, isDragActive} = useDropzone(setDNDConfig(onDrop));\r\n\r\n    return (\r\n        <div {...getRootProps({className: css.dropZone})}>\r\n            {props.children}\r\n            {isDragActive && <div className={css.dropZoneInfoBlock}>\r\n\t            <div className={css.dropZoneInfoBlock__message}>\r\n                    <div className={css.dropZoneInfoBlock__title}>\r\n                      Бросайте файлы сюда, я ловлю\r\n                    </div>\r\n                    <div className={css.dropZoneInfoBlock__description}>\r\n\t                    Мы принимаем картинки (jpg, png, gif), офисные файлы (doc, xls, pdf) и zip-архивы. Размеры файла до 5 МБ\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n","import React, { ChangeEvent, PureComponent } from 'react';\r\nimport css from './MessageSender.module.scss'\r\nimport { UIInputField } from '../../../UI/Form/TextInput/Input';\r\nimport { UI_AttachedFileView } from '../../../UI/AttachedFileView/AttachedFileView';\r\nimport { UIInputFile } from '../../../UI/Form/FileInput/InputFile';\r\nimport { formFieldGrouped, formFieldSingle } from './MessageSender.config';\r\nimport { UIButton } from '../../../UI/Button/Button';\r\nimport { INPUT_POSITION } from '../../../UI/Form/TextInput/Input.model';\r\nimport { DropZone } from '../../../UI/Form/DropZone/DropZone';\r\nimport { TAttachedFile, TMessageSenderControllerState } from '../messageSenderController/MessageSender.model';\r\n\r\n\r\ntype TMessageSenderViewProps = {\r\n    data: TMessageSenderControllerState,\r\n    applyForm: () => void,\r\n    onDeleteFile: (fileName: string) => void,\r\n    onInputFilesChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onDropZoneChange: (files: FileList) => void,\r\n    onSenderNameChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onSenderEmailChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onRecipientNameChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onRecipientEmailChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onEmailTitleChange: (event: ChangeEvent<HTMLInputElement>) => void,\r\n    onLetterContentChange: (event: ChangeEvent<HTMLInputElement>) => void\r\n}\r\n\r\nexport class MessageSenderView extends PureComponent<TMessageSenderViewProps> {\r\n    render(){\r\n        //#region destruction props\r\n        const {\r\n            data: {\r\n                senderName,\r\n                senderEmail,\r\n                recipientEmail,\r\n                recipientName,\r\n                emailTitle,\r\n                attachedFiles,\r\n                content,\r\n                filesErrorList,\r\n                textFieldsErrors: {\r\n                    senderEmailErrorMessage,\r\n                    recipientEmailErrorMessage,\r\n                },\r\n                messageSymbolsLeft\r\n            },\r\n            applyForm,\r\n            onDeleteFile,\r\n            onInputFilesChange,\r\n            onDropZoneChange,\r\n            onSenderNameChange,\r\n            onSenderEmailChange,\r\n            onRecipientNameChange,\r\n            onRecipientEmailChange,\r\n            onEmailTitleChange,\r\n            onLetterContentChange\r\n        } = this.props;\r\n        //#endregion\r\n        return (\r\n            <div className={css.messageSender}>\r\n                <h4>\r\n                    Отправлялка сообщений\r\n                </h4>\r\n                {/*TODO TO form*/}\r\n                <div>\r\n                    <DropZone\r\n                        onDropHandler={onDropZoneChange}>\r\n                    <div>\r\n                        <div className={formFieldGrouped}>\r\n                            <UIInputField\r\n                                value={senderName}\r\n                                onChange={onSenderNameChange}\r\n                                fieldName={'senderName'}\r\n                                placeholder={'Имя'}\r\n                                labelText={'От кого'}\r\n                                inputPosition={INPUT_POSITION.LEFT}\r\n                            />\r\n                            <UIInputField\r\n                                value={senderEmail}\r\n                                onChange={onSenderEmailChange}\r\n                                fieldName={'senderEmail'}\r\n                                placeholder={'Email'}\r\n                                errorMessage={senderEmailErrorMessage}\r\n                                inputPosition={INPUT_POSITION.RIGHT}\r\n                            />\r\n                        </div>\r\n                        <div className={formFieldGrouped}>\r\n                            <UIInputField\r\n                                value={recipientName}\r\n                                onChange={onRecipientNameChange}\r\n                                fieldName={'recipientName'}\r\n                                placeholder={'Имя'}\r\n                                labelText={'Кому'}\r\n                                inputPosition={INPUT_POSITION.LEFT}\r\n                            />\r\n                            <UIInputField\r\n                                value={recipientEmail}\r\n                                onChange={onRecipientEmailChange}\r\n                                fieldName={'recipientEmail'}\r\n                                placeholder={'Email'}\r\n                                errorMessage={recipientEmailErrorMessage}\r\n                                inputPosition={INPUT_POSITION.RIGHT}\r\n                            />\r\n                        </div>\r\n                        <div className={formFieldSingle}>\r\n                            <UIInputField\r\n                                value={emailTitle}\r\n                                onChange={onEmailTitleChange}\r\n                                fieldName={'title'}\r\n                                placeholder={'Тема письма'}\r\n                            />\r\n                        </div>\r\n                        <div className={formFieldSingle}>\r\n                            <UIInputField\r\n                                value={content}\r\n                                onChange={onLetterContentChange}\r\n                                fieldName={'content'}\r\n                                placeholder={'Сообщение'}\r\n                            />\r\n                            <div className={css.symbolsLeft}>Осталось <span>{messageSymbolsLeft}</span> символов</div>\r\n                        </div>\r\n                    </div>\r\n                    </DropZone>\r\n                    {attachedFiles.length > 0 && <div className={css.fileAttachedPreview}>\r\n                        {attachedFiles.map((file: TAttachedFile, i: number) => {\r\n                            return <UI_AttachedFileView\r\n                                key={i}\r\n                                fileName={file.name}\r\n                                onDelete={onDeleteFile}\r\n                            />\r\n                        })}\r\n                    </div>}\r\n                    <div className={css.uploadFileBtnWrapper}>\r\n                        <UIInputFile\r\n                            onChange={onInputFilesChange}\r\n                        />\r\n                        {filesErrorList.map((error: string, i: number) => <p key={i} className={css.fileError}>{error}</p>)}\r\n                    </div>\r\n                    <div className={css.sendBtnWrapper}>\r\n                        <UIButton onClick={applyForm} text={'Отправить'}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import {\r\n    ACCEPTED_FILE_FORMATS,\r\n    MAX_FILE_SIZE_IN_B,\r\n    MAX_FILE_SIZE_IN_MB,\r\n    MAX_TOTAL_FILES_SIZE_IN_MB\r\n} from '../../../config/filesUpload.config';\r\nimport { isFieldEmpty, isValidEmail } from '../../../UI/Form/TextInput/Input.utils';\r\nimport { MAX_TOTAL_FILES_SIZE } from '../../../config/config';\r\n\r\nexport const FIELDS_ERRORS = {\r\n    EMPTY_FIELD: 'Поле не может быть пустым',\r\n    INVALID_EMAIL: 'Email не валиден',\r\n    INVALID_SINGLE_FILE_SIZE: `Размер файла не должен превышать ${MAX_FILE_SIZE_IN_MB}мб`,\r\n    INVALID_TOTAL_FILE_SIZE: `Общий размер файлов не должен превышать ${MAX_TOTAL_FILES_SIZE_IN_MB}мб`,\r\n    INVALID_FILE_FORMAT: 'Недопустисый формат файлов',\r\n    FILE_PARSE_ERROR: 'Ошибка чтения файла'\r\n};\r\n\r\nexport const fieldsValidationRules = {\r\n    senderEmail: [\r\n        {\r\n            validator: isFieldEmpty,\r\n            errorMessage: FIELDS_ERRORS.EMPTY_FIELD\r\n        },\r\n        {\r\n            validator: isValidEmail,\r\n            errorMessage: FIELDS_ERRORS.INVALID_EMAIL\r\n        }],\r\n    recipientEmail: [\r\n        {\r\n            validator: isFieldEmpty,\r\n            errorMessage: FIELDS_ERRORS.EMPTY_FIELD\r\n        },\r\n        {\r\n            validator: isValidEmail,\r\n            errorMessage: FIELDS_ERRORS.INVALID_EMAIL\r\n        }],\r\n};\r\n\r\nexport const attachedFilesValidationRules = {\r\n    checkSingleFileSize: {\r\n        validator: (fileSizesPerFile: number[]) => fileSizesPerFile.some((fileSize: number) => fileSize > MAX_FILE_SIZE_IN_B),\r\n        errorMessage: FIELDS_ERRORS.INVALID_SINGLE_FILE_SIZE\r\n    },\r\n    checkTotalFilesSize: {\r\n        validator: (fileSizesPerFile: number[]) => {\r\n            const attachedFilesSizeTotal = fileSizesPerFile.reduce((prev: number, current: number) => prev + current, 0);\r\n            return fileSizesPerFile.length > 1 && attachedFilesSizeTotal > MAX_TOTAL_FILES_SIZE\r\n        },\r\n        errorMessage: FIELDS_ERRORS.INVALID_TOTAL_FILE_SIZE\r\n    },\r\n    checkFileFormat: {\r\n        validator: (filesFormats: string[]) => filesFormats.some((fileFormat: string) => ACCEPTED_FILE_FORMATS.indexOf(fileFormat) === -1),\r\n        errorMessage: FIELDS_ERRORS.INVALID_FILE_FORMAT\r\n    },\r\n};\r\n","export const ACCEPTED_FILE_FORMATS = ['png', 'jpg', 'jpeg', 'gif', 'pdf', 'doc', 'xls', 'zip', 'rar', '7zip', 'tgz'];\r\n\r\nexport const FILE_ATTACH_CONFIG = {\r\n    multiple: true,\r\n    MAX_FILE_SIZE: 5e+6,\r\n};\r\n\r\nexport const MAX_TOTAL_FILES_SIZE = 5e+6 * 4;\r\n","import { TVALIDATOR_RULE } from './MessageSender.model';\r\n\r\n\r\nexport const getErrorMessageFromValidator = <T extends unknown>(rule: TVALIDATOR_RULE<T>, data: T): string => rule.validator(data) ? rule.errorMessage : '';\r\nexport const getOneErrorMessageFromErrorList = (messages: string[]) => messages.filter(errorMessage => !!errorMessage)[0];\r\n","import React, { ChangeEvent, PureComponent } from 'react';\r\nimport { INITIAL_STATE, MAX_SYMBOLS_FOR_MESSAGE } from './MessageSender.fixture';\r\nimport { fileListToAttachedFileAsync } from '../../../UI/Form/utils';\r\nimport { getFileFormatFromFileName } from '../../../utils/utils';\r\nimport { MessageSenderView } from '../messageSenderView/MessageSender.view';\r\nimport { RemoteDataStatus, WithLoading } from '../../../RemoteData/RemoteData.component';\r\nimport {\r\n    MessageSenderSuccessContainer,\r\n} from '../../../containers/messageSender/MessageForm.container';\r\nimport { attachedFilesValidationRules, FIELDS_ERRORS, fieldsValidationRules } from './MessageSender.config';\r\nimport { getErrorMessageFromValidator, getOneErrorMessageFromErrorList } from './MessageSender.utils';\r\nimport css from './messageSenderContoller.module.scss';\r\nimport {\r\n    TAttachedFile,\r\n    TMessageSenderControllerProps,\r\n    TMessageSenderControllerState,\r\n    TStateKeys\r\n} from './MessageSender.model';\r\n\r\nexport class MessageSenderController extends PureComponent<TMessageSenderControllerProps, TMessageSenderControllerState> {\r\n    state = INITIAL_STATE;\r\n\r\n    render() {\r\n        const { loadingStatus, errorMessage} = this.props;\r\n        return (\r\n            <>\r\n                {loadingStatus === RemoteDataStatus.INITIAL ? <MessageSenderView\r\n                    data={this.state}\r\n                    applyForm={this.applyForm}\r\n                    onDeleteFile={this.onDeleteFile}\r\n                    onInputFilesChange={this.onInputFilesChange}\r\n                    onDropZoneChange={this.onDropZoneChange}\r\n                    onSenderNameChange={this.onSenderNameChange}\r\n                    onSenderEmailChange={this.onSenderEmailChange}\r\n                    onRecipientNameChange={this.onRecipientNameChange}\r\n                    onRecipientEmailChange={this.onRecipientEmailChange}\r\n                    onEmailTitleChange={this.onEmailTitleChange}\r\n                    onLetterContentChange={this.onLetterContentChange}\r\n                /> : <div className={css.loadingWrapper}>\r\n                        <div className={css.successMessage}>\r\n                            <WithLoading\r\n                                status={loadingStatus}\r\n                                error={errorMessage}>\r\n                                <MessageSenderSuccessContainer/>\r\n                            </WithLoading>\r\n                        </div>\r\n                </div>\r\n                }\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n    //#region apply form\r\n\r\n\r\n    applyForm = () => {\r\n        const {sendMessage} = this.props;\r\n        const {\r\n            senderName,\r\n            senderEmail,\r\n            recipientName,\r\n            recipientEmail,\r\n            emailTitle,\r\n            content,\r\n            attachedFiles\r\n        } = this.state;\r\n        if(this.isFieldsvalid()) {\r\n            const requestObject = {\r\n                request: {\r\n                    action: 'issue.send.test',\r\n                    letter: {\r\n                        subject: emailTitle.trim(),\r\n                        \"from.name\": senderName.trim(),\r\n                        \"from.email\": senderEmail.trim(),\r\n                        \"to.name\": recipientName.trim(),\r\n                        \"message\": {\r\n                            \"text\":  content.trim()\r\n                        },\r\n                        attaches: attachedFiles,\r\n                    },\r\n                    sendwhen: 'test',\r\n                    mca: [\r\n                        recipientEmail\r\n                    ]\r\n                }\r\n            }\r\n            sendMessage(requestObject)\r\n            this.setState({\r\n                ...INITIAL_STATE\r\n            })\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region validators\r\n        validateTextFieldFields = (): boolean => {\r\n        const {\r\n            senderEmail,\r\n            recipientEmail,\r\n        } = this.state;\r\n        const fieldsError = {\r\n            senderEmailErrorMessage: getOneErrorMessageFromErrorList(fieldsValidationRules.senderEmail.map(field => getErrorMessageFromValidator(field, senderEmail))),\r\n            recipientEmailErrorMessage: getOneErrorMessageFromErrorList(fieldsValidationRules.recipientEmail.map(field => getErrorMessageFromValidator(field, recipientEmail))),\r\n        };\r\n        this.setState({\r\n            textFieldsErrors: {...fieldsError}\r\n        });\r\n        // @ts-ignore\r\n        const isValid = Object.keys(fieldsError).every((error: string) => !fieldsError[error]);\r\n        return isValid\r\n    }\r\n\r\n    isFieldsvalid = (): boolean => {\r\n        const {\r\n            filesErrorList\r\n        } = this.state;\r\n        return this.validateTextFieldFields() && !filesErrorList.length\r\n    }\r\n    //#endregion\r\n\r\n    //#region text fields change handlers\r\n\r\n    handleFieldChange = (fieldName: TStateKeys, value: string) => {\r\n        // @ts-ignore\r\n        this.setState({\r\n            [fieldName]: value\r\n        } as unknown)\r\n    };\r\n\r\n\r\n    onSenderNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFieldChange('senderName', e.target.value)\r\n    };\r\n\r\n    onSenderEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFieldChange('senderEmail', e.target.value)\r\n    };\r\n\r\n    onRecipientNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFieldChange('recipientName', e.target.value)\r\n    };\r\n\r\n    onRecipientEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFieldChange('recipientEmail', e.target.value)\r\n    };\r\n\r\n    onEmailTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFieldChange('emailTitle', e.target.value)\r\n    };\r\n\r\n    onLetterContentChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const symbolsInCurrentMessage = MAX_SYMBOLS_FOR_MESSAGE - e.target.value.length;\r\n        if (symbolsInCurrentMessage >= 0) {\r\n            this.setState({\r\n                content: e.target.value,\r\n                messageSymbolsLeft: symbolsInCurrentMessage\r\n            })\r\n        }\r\n    };\r\n\r\n    //#endregion\r\n\r\n    //#region files change handlers\r\n    handleFilesAdd = async (files : FileList) => {\r\n        const fileList = files as FileList;\r\n        const arrFiles = Array.from(fileList);\r\n        const filesSizePerFile = arrFiles.map((file: File) => file.size);\r\n        const filesFormats = arrFiles.map((file: File) => file.name).map(getFileFormatFromFileName);\r\n        let filesErrorList = [\r\n            getErrorMessageFromValidator(attachedFilesValidationRules.checkFileFormat, filesFormats),\r\n            getErrorMessageFromValidator(attachedFilesValidationRules.checkTotalFilesSize, filesSizePerFile),\r\n            getErrorMessageFromValidator(attachedFilesValidationRules.checkSingleFileSize, filesSizePerFile),\r\n        ].filter(errorMessage => !!errorMessage);\r\n        try {\r\n            const attachedFiles = await fileListToAttachedFileAsync(arrFiles);\r\n            if (!filesErrorList.length) {\r\n                this.setState({\r\n                    attachedFiles,\r\n                    filesErrorList: []\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    filesErrorList\r\n                })\r\n            }\r\n\r\n        } catch (e) {\r\n            filesErrorList.push(FIELDS_ERRORS.FILE_PARSE_ERROR);\r\n            this.setState({\r\n                filesErrorList\r\n            })\r\n        }\r\n    };\r\n\r\n    onInputFilesChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        this.handleFilesAdd(event.target.files as FileList)\r\n    };\r\n\r\n    onDropZoneChange = (files: FileList) => {\r\n        this.handleFilesAdd(files)\r\n    };\r\n\r\n    onDeleteFile = (fileName: string) => {\r\n        const { attachedFiles } = this.state;\r\n        const updatedFileList = attachedFiles.filter((file: TAttachedFile) => fileName !== file.name);\r\n        this.setState( {attachedFiles: updatedFileList})\r\n    };\r\n\r\n    //#endregion\r\n\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { UIButton } from '../../../UI/Button/Button';\r\n\r\ntype TMessageSenderViewProps = {\r\n    reset: () => void\r\n}\r\n\r\nexport class MessageSenderSuccessView extends PureComponent<TMessageSenderViewProps> {\r\n    render(){\r\n        const {\r\n            reset\r\n        } = this.props;\r\n        return (\r\n            <>\r\n                <h4>\r\n                    Сообщение успешно отправлено\r\n                </h4>\r\n                <UIButton onClick={reset} text={'Отправить еще'}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import { Dispatch } from 'react'\r\nimport { ApplicationState } from '../../reducers';\r\nimport { TAction, TActionEmpty, TPayload } from '../../actions/actions.utils';\r\nimport { connect } from 'react-redux';\r\nimport { messageSenderAction, TMessageSenderRequest } from '../../actions/messageSender.action';\r\nimport { MessageSenderController } from '../../components/messageSender/messageSenderController/MessageSender.controller';\r\nimport { RemoteDataStatus } from '../../RemoteData/RemoteData.component';\r\nimport { TNullOrError } from '../../models/sharedModels';\r\nimport { MessageSenderSuccessView } from '../../components/messageSender/messageSenderSuccess/messageSenderSuccess.view';\r\n\r\n\r\nexport type TMessageSenderContainerProps = {\r\n    sendMessage: (request: TMessageSenderRequest) => void,\r\n    errorMessage: TNullOrError,\r\n    loadingStatus: RemoteDataStatus\r\n}\r\n\r\nconst mapStateToProps = (state: ApplicationState) => {\r\n    const { loadingStatus, errorMessage } = state.messageSenderReducer;\r\n    return { loadingStatus, errorMessage}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<TAction<TMessageSenderRequest> | TPayload >) => ({\r\n    sendMessage: (request: TMessageSenderRequest) => dispatch(messageSenderAction.request(request)),\r\n});\r\n\r\nexport const MessageSenderContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(MessageSenderController);\r\n\r\n//\r\nexport type TMessageSenderContainerSuccessProps = {\r\n    reset: () => void;\r\n}\r\n\r\n\r\nconst mapDispatchToPropsSuccessContainer = (dispatch: Dispatch<TActionEmpty>) => ({\r\n    reset: () => dispatch(messageSenderAction.initial()),\r\n});\r\n\r\nexport const MessageSenderSuccessContainer = connect(null, mapDispatchToPropsSuccessContainer,\r\n)(MessageSenderSuccessView);\r\n","import { Dispatch } from 'react'\r\nimport { ApplicationState } from '../../reducers';\r\nimport { TAction, TPayload } from '../../actions/actions.utils';\r\nimport { connect } from 'react-redux';\r\nimport { TMessageSenderRequest } from '../../actions/messageSender.action';\r\nimport { messageHistoryAction } from '../../actions/messageHistory.action';\r\nimport { MessageHistoryController } from '../../components/messageHistory/messageHistoryController/MessageHistory.controller';\r\nimport { TNullOrError } from '../../models/sharedModels';\r\nimport { RemoteDataStatus } from '../../RemoteData/RemoteData.component';\r\n\r\nexport type TMessageHistoryContainerProps = {\r\n    getHistory: () => void,\r\n    errorMessage: TNullOrError,\r\n    loadingStatus: RemoteDataStatus\r\n}\r\n\r\nconst mapStateToProps = (state: ApplicationState) => {\r\n    const { loadingStatus, errorMessage, data } = state.messageHistoryReducer;\r\n    return { loadingStatus, errorMessage, data}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<TAction<TMessageSenderRequest> | TPayload >) => ({\r\n    getHistory: () => dispatch(messageHistoryAction.request()),\r\n});\r\n\r\nexport const MessageHistoryContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(MessageHistoryController);\r\n","import React, { Component } from 'react';\r\nimport css from './App.module.scss';\r\n\r\n\r\nimport { MessageSenderContainer } from './containers/messageSender/MessageForm.container';\r\nimport { MessageHistoryContainer } from './containers/messageHistory/MessageHistory.container';\r\nexport class App extends Component {\r\n  render () {\r\n\r\n    return (\r\n        <div className={css.background}>\r\n            <div className={css.contentWrapper}>\r\n                <MessageSenderContainer />\r\n                <MessageHistoryContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux'\r\nimport { configureStore } from './store';\r\nimport App from './App';\r\n\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fileInfoBlock\":\"AttachedFileView_fileInfoBlock__3xuMV\",\"clip\":\"AttachedFileView_clip__1-bQT\",\"fileViewer\":\"AttachedFileView_fileViewer__3iwBC\",\"deleteBtn\":\"AttachedFileView_deleteBtn__1nMap\",\"deleteIcon\":\"AttachedFileView_deleteIcon__1jXtv\",\"fileName\":\"AttachedFileView_fileName__1QIUq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropZone\":\"DropZone_dropZone__3jSrU\",\"dropZoneInfoBlock\":\"DropZone_dropZoneInfoBlock__1nf0y\",\"dropZoneInfoBlock__message\":\"DropZone_dropZoneInfoBlock__message__11mYV\",\"dropZoneInfoBlock__title\":\"DropZone_dropZoneInfoBlock__title__1KQld\",\"dropZoneInfoBlock__description\":\"DropZone_dropZoneInfoBlock__description__2kJPq\"};","export type TMessageHistoryItem = {\r\n    date: string;\r\n    theme: string;\r\n    status: number\r\n}\r\n\r\n\r\nexport type TFIELD = 'theme' | 'date' | 'status'\r\nexport const SORT_FIELD = {\r\n    date: 'date',\r\n    status: 'status',\r\n    theme: 'theme'\r\n};\r\n\r\n\r\nexport type TMessageHistoryControllerState = {\r\n    sortField: TFIELD | string,\r\n    isSortOrderDesc: boolean,\r\n    dataUI: TMessageHistoryItem[],\r\n    data: TMessageHistoryItem[]\r\n}\r\n","import classNames from 'classnames';\r\nimport css from \"./MessageHistoryView.module.scss\";\r\n\r\nexport const statusClassNameError = classNames(css.tdStatus, css.tdStatus_error);\r\nexport const statusClassNameSuccess = classNames(css.tdStatus, css.tdStatus_success);\r\nexport const statusClassNameInProgress = classNames(css.tdStatus, css.tdStatus_inprogress);\r\n","import React, { PureComponent } from 'react';\r\nimport css from './MessageHistoryView.module.scss';\r\nimport { SORT_FIELD, TMessageHistoryItem } from '../messageHistoryController/MessageHistory.model';\r\nimport { getMessageClassName, getMessageStatus } from './MessageHistory.utils';\r\nimport { TMessageHistoryResponse } from '../../../actions/messageHistory.action';\r\n\r\n\r\nconst arrowUp = <span style={{color: '#13e613', fontSize: '18px'}}>&#x2191;</span>;\r\nconst arrowDown = <span style={{color: '#e6714e', fontSize: '18px'}}>&#x2193;</span>;\r\n\r\ntype TMessageHistoryViewProps = TMessageHistoryResponse & {\r\n    sortByTheme: () => void,\r\n    sortByDate: () => void,\r\n    sortField: string,\r\n    isSortOrderDesc: boolean\r\n}\r\n\r\nexport class MessageHistoryView extends PureComponent<TMessageHistoryViewProps> {\r\n    render() {\r\n        const {\r\n            data,\r\n            sortByTheme,\r\n            sortByDate,\r\n            sortField,\r\n            isSortOrderDesc\r\n        } = this.props;\r\n        return (\r\n            <div className={css.messageHistoryBlock}>\r\n                <div className={css.tableTitle}>Отправленные сообщения</div>\r\n                {!!data.length && <table className={css.tableHistory}>\r\n\t\t\t\t\t\t\t    <thead className={css.tableHead}>\r\n\t\t\t\t\t\t\t    <tr>\r\n\t\t\t\t\t\t\t\t    <th onClick={sortByDate}><span className={css.columnName}>Дата</span> {sortField === SORT_FIELD.date &&  isSortOrderDesc ? arrowDown : arrowUp}</th>\r\n                                  <th onClick={sortByTheme}><span className={css.columnName}>Тема</span> {sortField === SORT_FIELD.theme &&  isSortOrderDesc ? arrowDown : arrowUp} </th>\r\n\t\t\t\t\t\t\t\t    <th className={css.thStatus}>Статуc</th>\r\n\t\t\t\t\t\t\t    </tr>\r\n\t\t\t\t\t\t\t    </thead>\r\n\t\t\t\t\t\t\t    <tbody>\r\n                  {data.map((item: TMessageHistoryItem, index: number) => {\r\n                      return <tr key={index}>\r\n                          <td className={css.tdDate}>{item.date}</td>\r\n                          <td className={css.tdTheme} title={item.theme}>{item.theme || '—'}</td>\r\n                          <td className={getMessageClassName(item.status)}>{getMessageStatus(item.status)}</td>\r\n                      </tr>\r\n                  })}\r\n\t\t\t\t\t\t\t    </tbody>\r\n\t\t\t\t\t\t    </table>}\r\n                {!data.length && <div className={css.emptyHistory}>\r\n\t\t\t\t\t\t\t    Сообщения ещё не отправлялись\r\n\t\t\t\t\t\t    </div>}\r\n            </div>\r\n        )\r\n    }\r\n};\r\n","import { statusClassNameError, statusClassNameInProgress, statusClassNameSuccess } from './MessageHistory.config';\r\n\r\nexport const getMessageClassName = (status: number): string => {\r\n    if (status === -1) {\r\n        return statusClassNameSuccess\r\n    } else if (status > -1) {\r\n        return statusClassNameInProgress\r\n    } else {\r\n        return statusClassNameError\r\n    }\r\n}\r\n\r\nexport const getMessageStatus = (status: number): string => {\r\n    if (status === -1) {\r\n        return 'Отправлено'\r\n    } else if (status > -1) {\r\n        return 'В очереди'\r\n    } else {\r\n        return 'Ошибка'\r\n    }\r\n}\r\n","import moment from 'moment';\r\nimport { TFIELD, TMessageHistoryItem } from './MessageHistory.model';\r\n\r\nexport const sortNumAndString = (a: string | number, b: string | number, isSortOrderDesc: boolean): number => {\r\n    if (a > b) return isSortOrderDesc ? 1 : -1;\r\n    if (a < b) return isSortOrderDesc ? -1 : 1;\r\n    return 0\r\n};\r\n\r\nexport const sortDate = (dateA: string, dateB: string, isSortOrderDesc: boolean) => {\r\n    const dateAInMS = moment(dateA).unix();\r\n    const dateBInMS = moment(dateB).unix();\r\n    return sortNumAndString(dateAInMS, dateBInMS, isSortOrderDesc)\r\n}\r\n\r\nexport const changeSortOrder = (currentSortField: string, clickedSortField: TFIELD, isSortOrderDesc: boolean) => {\r\n    return currentSortField === clickedSortField ? !isSortOrderDesc : !isSortOrderDesc;\r\n}\r\n\r\nexport const sortByField = (\r\n    data: TMessageHistoryItem[],\r\n    sortField: TFIELD, isSortOrderDesc: boolean,\r\n    sortFunc: (a: string | number, b: string | number, isSortOrderDesc: boolean) => number) => {\r\n    return data.slice().sort((itemA: TMessageHistoryItem, itemB: TMessageHistoryItem) => {\r\n            return sortFunc(itemA[sortField], itemB[sortField], isSortOrderDesc)\r\n        }\r\n    )\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport {\r\n    SORT_FIELD, TFIELD,\r\n    TMessageHistoryControllerState,\r\n} from './MessageHistory.model';\r\nimport { MessageHistoryView } from '../messageHistoryView/MessageHistory.view';\r\nimport { changeSortOrder, sortByField, sortNumAndString, sortDate } from './MessageHistory.utils';\r\nimport { TMessageHistoryContainerProps } from '../../../containers/messageHistory/MessageHistory.container';\r\nimport { TMessageHistoryResponse } from '../../../actions/messageHistory.action';\r\nimport { WithLoading } from '../../../RemoteData/RemoteData.component';\r\n\r\n\r\nconst initialState = {\r\n    sortField: SORT_FIELD.date,\r\n    isSortOrderDesc: false,\r\n    dataUI: [],\r\n    data:[]\r\n}\r\ntype TMessageHistoryControllerProps = TMessageHistoryContainerProps & TMessageHistoryResponse;\r\n\r\nexport class MessageHistoryController extends PureComponent<TMessageHistoryControllerProps, TMessageHistoryControllerState> {\r\n    state = initialState;\r\n\r\n    componentDidMount(): void {\r\n        const {getHistory} = this.props;\r\n        getHistory()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { sortField, dataUI, isSortOrderDesc} = this.state;\r\n        const { loadingStatus, errorMessage, data} = this.props;\r\n        return (\r\n            <WithLoading error={errorMessage} status={loadingStatus}>\r\n\r\n                <MessageHistoryView\r\n                    data={dataUI}\r\n                    sortByTheme={this.sortByTheme}\r\n                    sortByDate={this.sortByDate}\r\n                    sortField={sortField}\r\n                    isSortOrderDesc={isSortOrderDesc}\r\n                />\r\n            </WithLoading>\r\n\r\n        )\r\n    }\r\n\r\n    static getDerivedStateFromProps(props: TMessageHistoryControllerProps, state: TMessageHistoryControllerState) {\r\n        if (props.data !== state.data) {\r\n            return {\r\n                data: props.data,\r\n                dataUI: props.data,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    sortByTheme = () => {\r\n        const {data} = this.props;\r\n        const {sortField, isSortOrderDesc} = this.state;\r\n        // TODO rewrite fields\r\n        const FIELD_THEME = SORT_FIELD.theme as TFIELD;\r\n        const isSortOrderDescModified = changeSortOrder(sortField, FIELD_THEME, isSortOrderDesc)\r\n\r\n        const sortedData = sortByField(data, FIELD_THEME, isSortOrderDescModified, sortNumAndString);\r\n        this.setState({\r\n            dataUI: sortedData,\r\n            isSortOrderDesc: !isSortOrderDesc,\r\n            sortField: FIELD_THEME\r\n        })\r\n    }\r\n\r\n    sortByDate = () => {\r\n        const {data} = this.props;\r\n        const {isSortOrderDesc} = this.state;\r\n        // TODO rewrite fields\r\n        const FIELD_DATE = SORT_FIELD.date as TFIELD;\r\n        // @ts-ignore\r\n        const sortedData = sortByField(data, FIELD_DATE, isSortOrderDesc, sortDate);\r\n        this.setState({\r\n            dataUI: sortedData,\r\n            isSortOrderDesc: !isSortOrderDesc,\r\n            sortField: FIELD_DATE\r\n        })\r\n    };\r\n\r\n\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"InputFile_input__1OUKf\",\"label\":\"InputFile_label__2OHwG\",\"clipperIcon\":\"InputFile_clipperIcon__pvUDk\",\"text\":\"InputFile_text__3NjkY\"};"],"sourceRoot":""}