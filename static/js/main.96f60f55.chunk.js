(window["webpackJsonpsendsay-test-ts"]=window["webpackJsonpsendsay-test-ts"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=function(e){return"undefined"!==typeof e},a=function(e){return null===e};function o(e){var t=e.split(".");return t[t.length-1]}var i="",s=[]},135:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(267),i=n(96),s=n(22),c=[{date:"01.01.05",theme:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0441\u044f \u0432 \u044d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u0430\u043c \u0441\u0435 \u0438 \u0442\u043e",status:-2},{date:"01.01.06",theme:"Test 1",status:1},{date:"01.01.07",theme:"Test 2",status:-1}];Object(o.storiesOf)("Message History table",e).add("Regular",(function(){return a.a.createElement(i.a,{errorMessage:null,loadingStatus:s.a.SUCCESS,getHistory:function(){return console.log("get history")},data:c})})).add("With Empty Data",(function(){return a.a.createElement(i.a,{errorMessage:null,loadingStatus:s.a.SUCCESS,getHistory:function(){return console.log("get history")},data:[]})}))}).call(this,n(182)(e))},140:function(e,t,n){e.exports={withLoadingWrapper:"RemoteData_withLoadingWrapper__1rest",renderComponent:"RemoteData_renderComponent__2ejKx"}},141:function(e,t,n){e.exports={button:"Button_button__3gpoF",button__mSize:"Button_button__mSize__3D8MR",button__submit:"Button_button__submit__3hvKi"}},179:function(e,t,n){e.exports={background:"App_background__3MUKr",contentWrapper:"App_contentWrapper__2PpQi"}},180:function(e,t,n){e.exports={loadingWrapper:"messageSenderContoller_loadingWrapper__2p5R_",successMessage:"messageSenderContoller_successMessage__XNv1a"}},19:function(e,t,n){e.exports={messageHistoryBlock:"MessageHistoryView_messageHistoryBlock__pqDKr",tableTitle:"MessageHistoryView_tableTitle__1bW5o",tableHistory:"MessageHistoryView_tableHistory__3quBg",emptyHistory:"MessageHistoryView_emptyHistory__BIXQN",tableHead:"MessageHistoryView_tableHead__3yk5D",columnName:"MessageHistoryView_columnName__cgFxa",tdStatus:"MessageHistoryView_tdStatus__27ZLy",tdStatus_error:"MessageHistoryView_tdStatus_error__2JWHy",tdStatus_success:"MessageHistoryView_tdStatus_success__2VDuV",tdStatus_inprogress:"MessageHistoryView_tdStatus_inprogress__hjr3Y",tdTheme:"MessageHistoryView_tdTheme__3IXTG",tdDate:"MessageHistoryView_tdDate__2SGsg",thStatus:"MessageHistoryView_thStatus__3uGHA"}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return h}));var r,a=n(15),o=n(16),i=n(18),s=n(14),c=n(17),l=n(0),u=n.n(l),p=n(11),d=n(140),m=n.n(d);!function(e){e.INITIAL="* INITIAL *",e.LOADING="* LOADING *",e.SUCCESS="* SUCCESS *",e.FAILURE="* FAILURE *"}(r||(r={}));var f=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.error;return u.a.createElement("div",{className:m.a.renderComponent},Object(p.e)(e)?"Error happened":e.message)}}]),t}(l.PureComponent),g=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:m.a.renderComponent},"LOADING")}}]),t}(l.PureComponent),h=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.error,a=function(e,t,n){switch(e){case r.FAILURE:return u.a.createElement(f,{error:n});case r.LOADING:return u.a.createElement(g,null);case r.SUCCESS:case r.INITIAL:return t}}(t,e.children,n);return u.a.createElement("div",{className:m.a.withLoadingWrapper},a)}}]),t}(l.PureComponent)},270:function(e,t,n){e.exports=n.p+"static/media/IconTrash.ba899406.svg"},271:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE+SURBVHgB7ZfvcYMwDMVfNmCDMgIjeBRv0G4A3aAbMEJHoBu0G6QbkA1a65DuFIIJNlb4knf3jsNY1g//w5xgoyr4NdgF11x2Cf4Jfg/+xQNEAGPwn/L8vmdYM7UqWYepR0R1sA8+8/OzFUyrEjQr9Sj5J9cdYAhRb6hPMN8c41BIqRAih4K9kgshGtmHQpBkeF6QqRjEG6alSfYb2hn2gCxB6Mk33y/WlD009yDo6tiyX3SRthwyJ+sWCL1BNap8rkqBehhCiGIgPbYNXRGINpKsR8Zq2wsx4jrZYRDNE8ISQoMcCqFhzCF8TlBpCNKA9F2uOESlAg+DAAekfHxMIEgpPWIGIZI54pAOIUt7NwTJY/2NYhAaZikuSx+4Pll5TEe/4Q6EiTrcHvdkIptCnBbKak5KvmD6cf6Csf4BcprctqACIUgAAAAASUVORK5CYII="},272:function(e,t,n){e.exports=n.p+"static/media/clipper.72d65e82.svg"},276:function(e,t,n){e.exports=n(503)},281:function(e,t,n){},31:function(e,t,n){e.exports={formWFieldWrapper:"Input_formWFieldWrapper__3O8ue",label:"Input_label__1Ap1r",input:"Input_input__2j4Ah",input_left:"Input_input_left__3VZ33",input_right:"Input_input_right__1tGVp",formError:"Input_formError__3Qyqd",inputAndErrorWrapper:"Input_inputAndErrorWrapper__2mrlb",textArea:"Input_textArea__3nVsT"}},32:function(e,t,n){e.exports={formField:"MessageSender_formField__3adVh",formField__grouped:"MessageSender_formField__grouped__dKdPK",formField__single:"MessageSender_formField__single__19APp",messageSender:"MessageSender_messageSender__1etxC",fileAttachedPreview:"MessageSender_fileAttachedPreview__1RmUg",sendBtnWrapper:"MessageSender_sendBtnWrapper__zmyLJ",fileError:"MessageSender_fileError__15YJU",symbolsLeft:"MessageSender_symbolsLeft__3-RHz"}},503:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(72),i=n.n(o);n(281),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(66),c=n(49),l=n(22),u="REQUEST",p="SUCCESS",d="FAILURE",m="INITIAL";function f(e){return{REQUEST:"".concat(e,"_").concat(u),SUCCESS:"".concat(e,"_").concat(p),FAILURE:"".concat(e,"_").concat(d),INITIAL:"".concat(e,"_").concat(m)}}function g(e,t){return{type:e,payload:t}}function h(e){return{type:e}}var _=f("MESSAGE_FORM"),E={request:function(e){return g(_[u],e)},success:function(e){return g(_[p],e)},failure:function(e){return g(_[d],{errorMessage:e})},initial:function(){return h(_[m])}},b=n(55);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case t[u]:return O({},n,{loadingStatus:l.a.LOADING});case t[d]:return O({},n,{},r.payload,{loadingStatus:l.a.FAILURE});case t[p]:return O({},n,{},r.payload,{loadingStatus:l.a.SUCCESS});case t[m]:default:return e}}},S=y({loadingStatus:l.a.INITIAL,errorMessage:null},_),I=f("MESSAGE_HISTORY"),j={request:function(){return{type:I[u]}},success:function(e){return g(I[p],e)},failure:function(e){return g(I[d],{errorMessage:e})},initial:function(){return h(I[m])}},A=y({data:[],loadingStatus:l.a.SUCCESS,errorMessage:null},I),N=Object(c.c)({messageSenderReducer:S,messageHistoryReducer:A}),F=n(275),C=n(12),w=n.n(C),D=n(75),M=n(266),k=n.n(M).a.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:5e3}),L=n(26),x=n(135),P=w.a.mark(B),T=w.a.mark(H),R=function(e){return k.post("/posts")};function B(e){var t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.request,n.prev=1,n.next=4,Object(L.a)(R,t);case 4:return n.sent,n.next=7,Object(L.b)(E.success({"track.id":1}));case 7:return x.a.push({theme:t.letter.subject,status:0,date:"11.10.19"}),n.next=10,Object(L.b)(j.request());case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(L.b)(E.failure(n.t0));case 16:case"end":return n.stop()}}),P,null,[[1,12]])}function H(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.c)(_[u],B);case 2:case"end":return e.stop()}}),T)}var V=w.a.mark(W),U=w.a.mark(G),Z=function(){return k.get("/posts")};function W(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.a)(Z);case 3:return e.sent,e.next=6,Object(L.b)(j.success({data:x.a}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(L.b)(j.failure(e.t0));case 12:case"end":return e.stop()}}),V,null,[[0,8]])}function G(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.c)(I[u],W);case 2:case"end":return e.stop()}}),U)}var Y=w.a.mark(z);function z(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(H),Object(D.c)(G)]);case 2:case"end":return e.stop()}}),Y)}var q=Object(F.a)(),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d;var K=n(15),J=n(16),X=n(18),$=n(14),ee=n(17),te=n(179),ne=n.n(te),re=n(139),ae=n(11);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se,ce=200,le={senderNameErrorMessage:ae.b,senderEmailErrorMessage:ae.b,recipientNameErrorMessage:ae.b,recipientEmailErrorMessage:ae.b,contentErrorMessage:ae.b,emailTitleErrorMessage:ae.b},ue=ie({},{senderName:ae.b,senderEmail:ae.b,recipientName:ae.b,recipientEmail:ae.b,emailTitle:ae.b,attachedFiles:ae.a,content:ae.b},{textFieldsErrors:ie({},le)},{filesErrorList:[]},{messageSymbolsLeft:ce}),pe=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))},de=function(){var e=Object(re.a)(w.a.mark((function e(t){var n,r,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(t),r=n.map((function(e){return pe(e)})),e.next=4,Promise.all(r);case 4:return a=e.sent,o=n.map((function(e,t){return{name:e.name,content:a[t],encoding:"base64"}})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=n(32),fe=n.n(me),ge=n(31),he=n.n(ge),_e=n(30),Ee=n.n(_e),be=Ee()(he.a.input,he.a.input_left),ve=Ee()(he.a.input,he.a.input_right);!function(e){e.LEFT="* LEFT *",e.RIGHT="* RIGHT *"}(se||(se={}));var Oe=function(e){return 0===e.trim().length},ye=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Se=function(e){return!ye.test(String(e).toLowerCase())},Ie=function(e){var t=e.placeholder,n=e.errorMessage,r=e.onChange,o=e.labelText,i=e.inputPosition,s=e.fieldName,c=e.value,l=function(e){switch(e){case se.LEFT:return be;case se.RIGHT:return ve;default:return he.a.input}}(i);return a.a.createElement("div",{className:he.a.formWFieldWrapper},Object(ae.d)(o)&&a.a.createElement("label",{className:he.a.label,htmlFor:s},o),a.a.createElement("div",{className:he.a.inputAndErrorWrapper},a.a.createElement("input",{type:"text",value:c,id:s,onChange:r,placeholder:t,className:l}),n&&a.a.createElement("div",{className:he.a.formError},n)))},je=n(67),Ae=n.n(je),Ne=n(270),Fe=n.n(Ne),Ce=n(271),we=n.n(Ce),De=20;var Me=function(e){function t(){var e,n;Object(K.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(X.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).handleDeleteFile=function(){var e=n.props;(0,e.onDelete)(e.fileName)},n}return Object(ee.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.fileName;return a.a.createElement("div",{className:Ae.a.fileViewer},a.a.createElement("div",{className:Ae.a.fileInfoBlock},a.a.createElement("img",{src:we.a,className:Ae.a.clip,alt:"clip"}),a.a.createElement("span",{className:Ae.a.fileName},function(e){if(e.length>De){var t=Object(ae.c)(e),n=e.slice(0,De);return"".concat(n,"...").concat(t)}return e}(e))),a.a.createElement("div",{className:Ae.a.deleteBtn,onClick:this.handleDeleteFile},a.a.createElement("img",{className:Ae.a.deleteIcon,src:Fe.a,alt:"delete icon"}),a.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(r.PureComponent),ke=n(97),Le=n.n(ke),xe=n(272),Pe=n.n(xe),Te=["png","jpg","jpeg","gif","pdf","doc","xls","zip","rar","7zip","tgz"],Re={multiple:!0},Be=function(e){var t=e.disabled,n=e.onChange;return a.a.createElement("label",{className:Le.a.label},a.a.createElement("img",{src:Pe.a,className:Le.a.clipperIcon,alt:"clip"}),a.a.createElement("span",{className:Le.a.text},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b"),a.a.createElement("input",Object.assign({className:Le.a.input,disabled:t,type:"file",onChange:n},Re)))},He=Ee()(fe.a.formField,fe.a.formField__grouped),Ve=Ee()(fe.a.formField,fe.a.formField__single),Ue=n(141),Ze=n.n(Ue),We=Ee()(Ze.a.button,Ze.a.button__mSize,Ze.a.button__submit),Ge=function(e){var t=e.onClick,n=e.disabled;return a.a.createElement("button",{disabled:n,className:We,onClick:t},e.text)},Ye=n(274),ze=n(76),qe=n.n(ze);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ke=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onDrop:function(t){e(t)}},Re)},Je=function(e){var t=e.onDropHandler,n=Object(r.useCallback)((function(e){t(e)}),[]),o=Object(Ye.a)(Ke(n)),i=o.getRootProps,s=o.isDragActive;return a.a.createElement("div",i({className:qe.a.dropZone}),e.children,s&&a.a.createElement("div",{className:qe.a.dropZoneInfoBlock},a.a.createElement("div",{className:qe.a.dropZoneInfoBlock__message},a.a.createElement("div",{className:qe.a.dropZoneInfoBlock__title},"\u0411\u0440\u043e\u0441\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430, \u044f \u043b\u043e\u0432\u043b\u044e"),a.a.createElement("div",{className:qe.a.dropZoneInfoBlock__description},"\u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b. \u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0444\u0430\u0439\u043b\u0430 \u0434\u043e 5 \u041c\u0411"))))},Xe=function(e){function t(){return Object(K.a)(this,t),Object(X.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=t.senderName,r=t.senderEmail,o=t.recipientEmail,i=t.recipientName,s=t.emailTitle,c=t.attachedFiles,l=t.content,u=t.filesErrorList,p=t.textFieldsErrors,d=p.senderEmailErrorMessage,m=p.recipientEmailErrorMessage,f=t.messageSymbolsLeft,g=e.applyForm,h=e.onDeleteFile,_=e.onInputFilesChange,E=e.onDropZoneChange,b=e.onSenderNameChange,v=e.onSenderEmailChange,O=e.onRecipientNameChange,y=e.onRecipientEmailChange,S=e.onEmailTitleChange,I=e.onLetterContentChange;return a.a.createElement("div",{className:fe.a.messageSender},a.a.createElement("h4",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),a.a.createElement("div",null,a.a.createElement(Je,{onDropHandler:E},a.a.createElement("div",null,a.a.createElement("div",{className:He},a.a.createElement(Ie,{value:n,onChange:b,fieldName:"senderName",placeholder:"\u0418\u043c\u044f",labelText:"\u041e\u0442 \u043a\u043e\u0433\u043e",inputPosition:se.LEFT}),a.a.createElement(Ie,{value:r,onChange:v,fieldName:"senderEmail",placeholder:"Email",errorMessage:d,inputPosition:se.RIGHT})),a.a.createElement("div",{className:He},a.a.createElement(Ie,{value:i,onChange:O,fieldName:"recipientName",placeholder:"\u0418\u043c\u044f",labelText:"\u041a\u043e\u043c\u0443",inputPosition:se.LEFT}),a.a.createElement(Ie,{value:o,onChange:y,fieldName:"recipientEmail",placeholder:"Email",errorMessage:m,inputPosition:se.RIGHT})),a.a.createElement("div",{className:Ve},a.a.createElement(Ie,{value:s,onChange:S,fieldName:"title",placeholder:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430"})),a.a.createElement("div",{className:Ve},a.a.createElement(Ie,{value:l,onChange:I,fieldName:"content",placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),a.a.createElement("div",{className:fe.a.symbolsLeft},"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",a.a.createElement("span",null,f)," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")))),c.length>0&&a.a.createElement("div",{className:fe.a.fileAttachedPreview},c.map((function(e,t){return a.a.createElement(Me,{key:t,fileName:e.name,onDelete:h})}))),a.a.createElement("div",{className:fe.a.uploadFileBtnWrapper},a.a.createElement(Be,{onChange:_}),u.map((function(e,t){return a.a.createElement("p",{key:t,className:fe.a.fileError},e)}))),a.a.createElement("div",{className:fe.a.sendBtnWrapper},a.a.createElement(Ge,{onClick:g,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}))))}}]),t}(r.PureComponent),$e={EMPTY_FIELD:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",INVALID_EMAIL:"Email \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d",INVALID_SINGLE_FILE_SIZE:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(5,"\u043c\u0431"),INVALID_TOTAL_FILE_SIZE:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(20,"\u043c\u0431"),INVALID_FILE_FORMAT:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u0441\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u043e\u0432",FILE_PARSE_ERROR:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430"},et={senderEmail:[{validator:Oe,errorMessage:$e.EMPTY_FIELD},{validator:Se,errorMessage:$e.INVALID_EMAIL}],recipientEmail:[{validator:Oe,errorMessage:$e.EMPTY_FIELD},{validator:Se,errorMessage:$e.INVALID_EMAIL}]},tt={checkSingleFileSize:{validator:function(e){return e.some((function(e){return e>5e6}))},errorMessage:$e.INVALID_SINGLE_FILE_SIZE},checkTotalFilesSize:{validator:function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.length>1&&t>2e7},errorMessage:$e.INVALID_TOTAL_FILE_SIZE},checkFileFormat:{validator:function(e){return e.some((function(e){return-1===Te.indexOf(e)}))},errorMessage:$e.INVALID_FILE_FORMAT}},nt=function(e,t){return e.validator(t)?e.errorMessage:""},rt=function(e){return e.filter((function(e){return!!e}))[0]},at=n(180),ot=n.n(at);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function(e){function t(){var e,n;Object(K.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(X.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).state=ue,n.applyForm=function(){var e=n.props.sendMessage,t=n.state,r=t.senderName,a=t.senderEmail,o=t.recipientName,i=t.recipientEmail,s=t.emailTitle,c=t.content,l=t.attachedFiles;n.isFieldsvalid()&&(e({request:{action:"issue.send.test",letter:{subject:s.trim(),"from.name":r.trim(),"from.email":a.trim(),"to.name":o.trim(),message:{text:c.trim()},attaches:l},sendwhen:"test",mca:[i]}}),n.setState(st({},ue)))},n.validateTextFieldFields=function(){var e=n.state,t=e.senderEmail,r=e.recipientEmail,a={senderEmailErrorMessage:rt(et.senderEmail.map((function(e){return nt(e,t)}))),recipientEmailErrorMessage:rt(et.recipientEmail.map((function(e){return nt(e,r)})))};return n.setState({textFieldsErrors:st({},a)}),Object.keys(a).every((function(e){return!a[e]}))},n.isFieldsvalid=function(){var e=n.state.filesErrorList;return n.validateTextFieldFields()&&!e.length},n.handleFieldChange=function(e,t){n.setState(Object(b.a)({},e,t))},n.onSenderNameChange=function(e){n.handleFieldChange("senderName",e.target.value)},n.onSenderEmailChange=function(e){n.handleFieldChange("senderEmail",e.target.value)},n.onRecipientNameChange=function(e){n.handleFieldChange("recipientName",e.target.value)},n.onRecipientEmailChange=function(e){n.handleFieldChange("recipientEmail",e.target.value)},n.onEmailTitleChange=function(e){n.handleFieldChange("emailTitle",e.target.value)},n.onLetterContentChange=function(e){var t=ce-e.target.value.length;t>=0&&n.setState({content:e.target.value,messageSymbolsLeft:t})},n.handleFilesAdd=function(){var e=Object(re.a)(w.a.mark((function e(t){var r,a,o,i,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,a=Array.from(r),o=a.map((function(e){return e.size})),i=a.map((function(e){return e.name})).map(ae.c),s=[nt(tt.checkFileFormat,i),nt(tt.checkTotalFilesSize,o),nt(tt.checkSingleFileSize,o)].filter((function(e){return!!e})),e.prev=5,e.next=8,de(a);case 8:c=e.sent,s.length?n.setState({filesErrorList:s}):n.setState({attachedFiles:c,filesErrorList:[]}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),s.push($e.FILE_PARSE_ERROR),n.setState({filesErrorList:s});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),n.onInputFilesChange=function(e){n.handleFilesAdd(e.target.files)},n.onDropZoneChange=function(e){n.handleFilesAdd(e)},n.onDeleteFile=function(e){var t=n.state.attachedFiles.filter((function(t){return e!==t.name}));n.setState({attachedFiles:t})},n}return Object(ee.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loadingStatus,n=e.errorMessage;return a.a.createElement(a.a.Fragment,null,t===l.a.INITIAL?a.a.createElement(Xe,{data:this.state,applyForm:this.applyForm,onDeleteFile:this.onDeleteFile,onInputFilesChange:this.onInputFilesChange,onDropZoneChange:this.onDropZoneChange,onSenderNameChange:this.onSenderNameChange,onSenderEmailChange:this.onSenderEmailChange,onRecipientNameChange:this.onRecipientNameChange,onRecipientEmailChange:this.onRecipientEmailChange,onEmailTitleChange:this.onEmailTitleChange,onLetterContentChange:this.onLetterContentChange}):a.a.createElement("div",{className:ot.a.loadingWrapper},a.a.createElement("div",{className:ot.a.successMessage},a.a.createElement(l.b,{status:t,error:n},a.a.createElement(pt,null)))))}}]),t}(r.PureComponent),lt=function(e){function t(){return Object(K.a)(this,t),Object(X.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.reset;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),a.a.createElement(Ge,{onClick:e,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435"}))}}]),t}(r.PureComponent),ut=Object(s.b)((function(e){var t=e.messageSenderReducer;return{loadingStatus:t.loadingStatus,errorMessage:t.errorMessage}}),(function(e){return{sendMessage:function(t){return e(E.request(t))}}}))(ct),pt=Object(s.b)(null,(function(e){return{reset:function(){return e(E.initial())}}}))(lt),dt=n(96),mt=Object(s.b)((function(e){var t=e.messageHistoryReducer;return{loadingStatus:t.loadingStatus,errorMessage:t.errorMessage,data:t.data}}),(function(e){return{getHistory:function(){return e(j.request())}}}))(dt.a),ft=function(e){function t(){return Object(K.a)(this,t),Object(X.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:ne.a.background},a.a.createElement("div",{className:ne.a.contentWrapper},a.a.createElement(ut,null),a.a.createElement(mt,null)))}}]),t}(r.Component),gt=function(){var e=Object(c.e)(N,Q(Object(c.a)(q)));return q.run(z),e}();i.a.render(a.a.createElement(s.a,{store:gt},a.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,n){e.exports={fileInfoBlock:"AttachedFileView_fileInfoBlock__3xuMV",clip:"AttachedFileView_clip__1-bQT",fileViewer:"AttachedFileView_fileViewer__3iwBC",deleteBtn:"AttachedFileView_deleteBtn__1nMap",deleteIcon:"AttachedFileView_deleteIcon__1jXtv",fileName:"AttachedFileView_fileName__1QIUq"}},76:function(e,t,n){e.exports={dropZone:"DropZone_dropZone__3jSrU",dropZoneInfoBlock:"DropZone_dropZoneInfoBlock__1nf0y",dropZoneInfoBlock__message:"DropZone_dropZoneInfoBlock__message__11mYV",dropZoneInfoBlock__title:"DropZone_dropZoneInfoBlock__title__1KQld",dropZoneInfoBlock__description:"DropZone_dropZoneInfoBlock__description__2kJPq"}},96:function(e,t,n){"use strict";var r=n(15),a=n(16),o=n(18),i=n(14),s=n(17),c=n(0),l=n.n(c),u={date:"date",status:"status",theme:"theme"},p=n(19),d=n.n(p),m=n(30),f=n.n(m),g=f()(d.a.tdStatus,d.a.tdStatus_error),h=f()(d.a.tdStatus,d.a.tdStatus_success),_=f()(d.a.tdStatus,d.a.tdStatus_inprogress),E=l.a.createElement("span",{style:{color:"#13e613",fontSize:"18px"}},"\u2191"),b=l.a.createElement("span",{style:{color:"#e6714e",fontSize:"18px"}},"\u2193"),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.sortByTheme,r=e.sortByDate,a=e.sortField,o=e.isSortOrderDesc;return l.a.createElement("div",{className:d.a.messageHistoryBlock},l.a.createElement("div",{className:d.a.tableTitle},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),!!t.length&&l.a.createElement("table",{className:d.a.tableHistory},l.a.createElement("thead",{className:d.a.tableHead},l.a.createElement("tr",null,l.a.createElement("th",{onClick:r},l.a.createElement("span",{className:d.a.columnName},"\u0414\u0430\u0442\u0430")," ",a===u.date&&o?b:E),l.a.createElement("th",{onClick:n},l.a.createElement("span",{className:d.a.columnName},"\u0422\u0435\u043c\u0430")," ",a===u.theme&&o?b:E," "),l.a.createElement("th",{className:d.a.thStatus},"\u0421\u0442\u0430\u0442\u0443c"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:d.a.tdDate},e.date),l.a.createElement("td",{className:d.a.tdTheme,title:e.theme},e.theme||"\u2014"),l.a.createElement("td",{className:(n=e.status,-1===n?h:n>-1?_:g)},function(e){return-1===e?"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":e>-1?"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438":"\u041e\u0448\u0438\u0431\u043a\u0430"}(e.status)));var n})))),!t.length&&l.a.createElement("div",{className:d.a.emptyHistory},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0435\u0449\u0451 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c"))}}]),t}(c.PureComponent),O=n(178),y=n.n(O),S=function(e,t,n){return e>t?n?1:-1:e<t?n?-1:1:0},I=function(e,t,n){var r=y()(e).unix(),a=y()(t).unix();return S(r,a,n)},j=function(e,t,n){return!n},A=function(e,t,n,r){return e.slice().sort((function(e,a){return r(e[t],a[t],n)}))},N=n(22);n.d(t,"a",(function(){return C}));var F={sortField:u.date,isSortOrderDesc:!1,dataUI:[],data:[]},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state=F,n.sortByTheme=function(){var e=n.props.data,t=n.state,r=t.sortField,a=t.isSortOrderDesc,o=u.theme,i=j(r,o,a),s=A(e,o,i,S);n.setState({dataUI:s,isSortOrderDesc:!a,sortField:o})},n.sortByDate=function(){var e=n.props.data,t=n.state.isSortOrderDesc,r=u.date,a=A(e,r,t,I);n.setState({dataUI:a,isSortOrderDesc:!t,sortField:r})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getHistory)()}},{key:"render",value:function(){var e=this.state,t=e.sortField,n=e.dataUI,r=e.isSortOrderDesc,a=this.props,o=a.loadingStatus,i=a.errorMessage;a.data;return l.a.createElement(N.b,{error:i,status:o},l.a.createElement(v,{data:n,sortByTheme:this.sortByTheme,sortByDate:this.sortByDate,sortField:t,isSortOrderDesc:r}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data,dataUI:e.data}:null}}]),t}(c.PureComponent)},97:function(e,t,n){e.exports={input:"InputFile_input__1OUKf",label:"InputFile_label__2OHwG",clipperIcon:"InputFile_clipperIcon__pvUDk",text:"InputFile_text__3NjkY"}}},[[276,1,2]]]);
//# sourceMappingURL=main.96f60f55.chunk.js.map