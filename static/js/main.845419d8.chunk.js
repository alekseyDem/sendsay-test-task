(window["webpackJsonpsendsay-test-ts"]=window["webpackJsonpsendsay-test-ts"]||[]).push([[0],{135:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(269),s=n(96),c=n(23),i=[{date:"01.01.05",theme:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0441\u044f \u0432 \u044d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u0430\u043c \u0441\u0435 \u0438 \u0442\u043e",status:-2,id:1},{date:"01.01.06",theme:"Test 1",status:1,id:2},{date:"01.01.07",theme:"Test 2",status:-1,id:3}],l=[{date:"01.01.07",theme:"Test 2",status:-1,id:3}];Object(o.storiesOf)("Message History table",e).add("Regular",(function(){return a.a.createElement(s.a,{errorMessage:null,selectedHistoryItems:l,loadingStatus:c.a.SUCCESS,getHistory:function(){return console.log("get history")},data:i,setBulk:function(e){console.log("set bulk ",e)},setSelectedItem:function(e){console.log("setSelectedItem ",e)},deleteSelectedHistoryItem:function(e){console.log("deleteSelectedHistoryItem ",e)},deleteBulk:function(){return console.log("delete Bulk")}})})).add("With Empty Data",(function(){return a.a.createElement(s.a,{errorMessage:null,selectedHistoryItems:[],loadingStatus:c.a.SUCCESS,getHistory:function(){return console.log("get history")},data:[],setBulk:function(e){console.log("set bulk ",e)},setSelectedItem:function(e){console.log("setSelectedItem ",e)},deleteSelectedHistoryItem:function(e){console.log("deleteSelectedHistoryItem ",e)},deleteBulk:function(){return console.log("delete Bulk")}})}))}).call(this,n(184)(e))},140:function(e,t,n){e.exports=n.p+"static/media/IconTrash.ba899406.svg"},141:function(e,t,n){e.exports={withLoadingWrapper:"RemoteData_withLoadingWrapper__1rest",renderComponent:"RemoteData_renderComponent__2ejKx"}},142:function(e,t,n){e.exports={button:"Button_button__3gpoF",button__mSize:"Button_button__mSize__3D8MR",button__submit:"Button_button__submit__3hvKi"}},180:function(e,t,n){e.exports={background:"App_background__3MUKr",contentWrapper:"App_contentWrapper__2PpQi"}},181:function(e,t,n){e.exports={loadingWrapper:"messageSenderContoller_loadingWrapper__2p5R_",successMessage:"messageSenderContoller_successMessage__XNv1a"}},182:function(e,t,n){e.exports={selectedItemWrapper:"SelectedHistory_selectedItemWrapper__303he",deleteIcon:"SelectedHistory_deleteIcon__3FVb4"}},19:function(e,t,n){e.exports={formWFieldWrapper:"TextInput_formWFieldWrapper__1wSb2",label:"TextInput_label__27tnh",input:"TextInput_input__3aJyw",input_left:"TextInput_input_left__3_3YC",input_right:"TextInput_input_right__7XzGh",formError:"TextInput_formError__2V7KC",inputAndErrorWrapper:"TextInput_inputAndErrorWrapper__3F2ad",textArea:"TextInput_textArea__9-BNr"}},20:function(e,t,n){e.exports={messageHistoryBlock:"MessageHistoryView_messageHistoryBlock__pqDKr",tableTitle:"MessageHistoryView_tableTitle__1bW5o",tableHistory:"MessageHistoryView_tableHistory__3quBg",emptyHistory:"MessageHistoryView_emptyHistory__BIXQN",tableHead:"MessageHistoryView_tableHead__3yk5D",columnName:"MessageHistoryView_columnName__cgFxa",tdStatus:"MessageHistoryView_tdStatus__27ZLy",tdStatus_error:"MessageHistoryView_tdStatus_error__2JWHy",tdStatus_success:"MessageHistoryView_tdStatus_success__2VDuV",tdStatus_inprogress:"MessageHistoryView_tdStatus_inprogress__hjr3Y",tdTheme:"MessageHistoryView_tdTheme__3IXTG",tdDate:"MessageHistoryView_tdDate__2SGsg",thStatus:"MessageHistoryView_thStatus__3uGHA"}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return g}));var r,a=n(15),o=n(16),s=n(18),c=n(12),i=n(17),l=n(0),u=n.n(l),d=n(8),m=n(141),p=n.n(m);!function(e){e.INITIAL="* INITIAL *",e.LOADING="* LOADING *",e.SUCCESS="* SUCCESS *",e.FAILURE="* FAILURE *"}(r||(r={}));var f=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.error;return u.a.createElement("div",{className:p.a.renderComponent},Object(d.f)(e)?"Error happened":e.message)}}]),t}(l.PureComponent),h=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:p.a.renderComponent},"LOADING")}}]),t}(l.PureComponent),g=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.error,a=function(e,t,n){switch(e){case r.FAILURE:return u.a.createElement(f,{error:n});case r.LOADING:return u.a.createElement(h,null);case r.SUCCESS:case r.INITIAL:return t}}(t,e.children,n);return u.a.createElement("div",{className:p.a.withLoadingWrapper},a)}}]),t}(l.PureComponent)},272:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE+SURBVHgB7ZfvcYMwDMVfNmCDMgIjeBRv0G4A3aAbMEJHoBu0G6QbkA1a65DuFIIJNlb4knf3jsNY1g//w5xgoyr4NdgF11x2Cf4Jfg/+xQNEAGPwn/L8vmdYM7UqWYepR0R1sA8+8/OzFUyrEjQr9Sj5J9cdYAhRb6hPMN8c41BIqRAih4K9kgshGtmHQpBkeF6QqRjEG6alSfYb2hn2gCxB6Mk33y/WlD009yDo6tiyX3SRthwyJ+sWCL1BNap8rkqBehhCiGIgPbYNXRGINpKsR8Zq2wsx4jrZYRDNE8ISQoMcCqFhzCF8TlBpCNKA9F2uOESlAg+DAAekfHxMIEgpPWIGIZI54pAOIUt7NwTJY/2NYhAaZikuSx+4Pll5TEe/4Q6EiTrcHvdkIptCnBbKak5KvmD6cf6Csf4BcprctqACIUgAAAAASUVORK5CYII="},273:function(e,t,n){e.exports=n.p+"static/media/clipper.72d65e82.svg"},278:function(e,t,n){e.exports=n(505)},283:function(e,t,n){},32:function(e,t,n){e.exports={formField:"MessageSender_formField__3adVh",formField__grouped:"MessageSender_formField__grouped__dKdPK",formField__single:"MessageSender_formField__single__19APp",messageSender:"MessageSender_messageSender__1etxC",fileAttachedPreview:"MessageSender_fileAttachedPreview__1RmUg",sendBtnWrapper:"MessageSender_sendBtnWrapper__zmyLJ",fileError:"MessageSender_fileError__15YJU",symbolsLeft:"MessageSender_symbolsLeft__3-RHz"}},505:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(72),s=n.n(o);n(283),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(56),i=n(49),l=n(23),u="REQUEST",d="SUCCESS",m="FAILURE",p="INITIAL",f="SET",h="SET_BULK",g="DELETE",E="DELETE_BULK";function _(e){return{REQUEST:"".concat(e,"_").concat(u),SUCCESS:"".concat(e,"_").concat(d),FAILURE:"".concat(e,"_").concat(m),INITIAL:"".concat(e,"_").concat(p)}}function b(e,t){return{type:e,payload:t}}function v(e){return{type:e}}function y(e){return{type:e}}var I=_("MESSAGE_FORM"),O={request:function(e){return b(I[u],e)},success:function(e){return b(I[d],e)},failure:function(e){return b(I[m],{errorMessage:e})},initial:function(){return y(I[p])}},S=n(55);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,C=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case t[u]:return N({},n,{loadingStatus:l.a.LOADING});case t[m]:return N({},n,{},r.payload,{loadingStatus:l.a.FAILURE});case t[d]:return N({},n,{},r.payload,{loadingStatus:l.a.SUCCESS});case t[p]:return e;default:return n}}},F=C({loadingStatus:l.a.INITIAL,errorMessage:null},I),k=_("MESSAGE_HISTORY"),w={request:function(){return v(k[u])},success:function(e){return b(k[d],e)},failure:function(e){return b(k[m],{errorMessage:e})},initial:function(){return y(k[p])}},D=C({data:[],loadingStatus:l.a.SUCCESS,errorMessage:null},k),M=n(277),x={SET:"".concat(A="SELECTED_MESSAGES","_").concat(f),DELETE:"".concat(A,"_").concat(g),SET_BULK:"".concat(A,"_").concat(h),DELETE_BULK:"".concat(A,"_").concat(E)},L=function(e){return b(x[f],e)},T=function(e){return b(x[g],e)},H=function(){return v(x[E])},B=function(e){return b(x[h],e)},P={selectedHistoryItems:[]},R=Object(i.c)({messageSenderReducer:F,messageHistoryReducer:D,selectedHistoryItemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x[f]:return{selectedHistoryItems:[].concat(Object(M.a)(e.selectedHistoryItems),[t.payload])};case x[g]:var n=t.payload;return{selectedHistoryItems:e.selectedHistoryItems.filter((function(e){return e.id!==n.id}))};case x[E]:return{selectedHistoryItems:[]};case x[h]:var r=t.payload;return{selectedHistoryItems:r.slice()};default:return e}}}),U=n(276),V=n(13),W=n.n(V),Z=n(75),G=n(268),Y=n.n(G).a.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:5e3}),z=n(27),K=n(135),q=W.a.mark(X),Q=W.a.mark($),J=function(e){return Y.post("/posts")};function X(e){var t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.request,n.prev=1,n.next=4,Object(z.a)(J,t);case 4:return n.sent,n.next=7,Object(z.b)(O.success({"track.id":1}));case 7:return K.a.push({theme:t.letter.subject,status:0,date:"11.10.19",id:Math.floor(1e3*Math.random())}),n.next=10,Object(z.b)(w.request());case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(z.b)(O.failure(n.t0));case 16:case"end":return n.stop()}}),q,null,[[1,12]])}function $(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.c)(I[u],X);case 2:case"end":return e.stop()}}),Q)}var ee=W.a.mark(re),te=W.a.mark(ae),ne=function(){return Y.get("/posts")};function re(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(z.a)(ne);case 3:return e.sent,e.next=6,Object(z.b)(w.success({data:K.a}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(z.b)(w.failure(e.t0));case 12:case"end":return e.stop()}}),ee,null,[[0,8]])}function ae(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.c)(k[u],re);case 2:case"end":return e.stop()}}),te)}var oe=W.a.mark(se);function se(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)([Object(Z.c)($),Object(Z.c)(ae)]);case 2:case"end":return e.stop()}}),oe)}var ce=Object(U.a)(),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;var le=n(15),ue=n(16),de=n(18),me=n(12),pe=n(17),fe=n(180),he=n.n(fe),ge=n(139),Ee=n(8);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=200,ye={senderNameErrorMessage:Ee.b,senderEmailErrorMessage:Ee.b,recipientNameErrorMessage:Ee.b,recipientEmailErrorMessage:Ee.b,contentErrorMessage:Ee.b,emailTitleErrorMessage:Ee.b},Ie=be({},{senderName:Ee.b,senderEmail:Ee.b,recipientName:Ee.b,recipientEmail:Ee.b,emailTitle:Ee.b,attachedFiles:Ee.a,content:Ee.b},{textFieldsErrors:be({},ye)},{filesErrorList:[]},{messageSymbolsLeft:ve}),Oe=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))},Se=function(){var e=Object(ge.a)(W.a.mark((function e(t){var n,r,a,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(t),r=n.map((function(e){return Oe(e)})),e.next=4,Promise.all(r);case 4:return a=e.sent,o=n.map((function(e,t){return{name:e.name,content:a[t],encoding:"base64"}})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=n(32),Ne=n.n(je),Ae=n(67),Ce=n.n(Ae),Fe=n(140),ke=n.n(Fe),we=n(272),De=n.n(we),Me=20;var xe,Le=function(e){function t(){var e,n;Object(le.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(a)))).handleDeleteFile=function(){var e=n.props;(0,e.onDelete)(e.fileName)},n}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props.fileName;return a.a.createElement("div",{className:Ce.a.fileViewer},a.a.createElement("div",{className:Ce.a.fileInfoBlock},a.a.createElement("img",{src:De.a,className:Ce.a.clip,alt:"clip"}),a.a.createElement("span",{className:Ce.a.fileName},function(e){if(e.length>Me){var t=Object(Ee.d)(e),n=e.slice(0,Me);return"".concat(n,"...").concat(t)}return e}(e))),a.a.createElement("div",{className:Ce.a.deleteBtn,onClick:this.handleDeleteFile},a.a.createElement("img",{className:Ce.a.deleteIcon,src:ke.a,alt:"delete icon"}),a.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(r.PureComponent),Te=n(97),He=n.n(Te),Be=n(273),Pe=n.n(Be),Re=["png","jpg","jpeg","gif","pdf","doc","xls","zip","rar","7zip","tgz"],Ue={multiple:!0},Ve=function(e){var t=e.disabled,n=e.onChange;return a.a.createElement("label",{className:He.a.label},a.a.createElement("img",{src:Pe.a,className:He.a.clipperIcon,alt:"clip"}),a.a.createElement("span",{className:He.a.text},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b"),a.a.createElement("input",Object.assign({className:He.a.input,disabled:t,type:"file",onChange:n},Ue)))},We=n(31),Ze=n.n(We),Ge=Ze()(Ne.a.formField,Ne.a.formField__grouped),Ye=Ze()(Ne.a.formField,Ne.a.formField__single),ze=n(142),Ke=n.n(ze),qe=Ze()(Ke.a.button,Ke.a.button__mSize,Ke.a.button__submit),Qe=function(e){var t=e.onClick,n=e.disabled;return a.a.createElement("button",{disabled:n,className:qe,onClick:t},e.text)};!function(e){e.LEFT="* LEFT *",e.RIGHT="* RIGHT *"}(xe||(xe={}));var Je=n(275),Xe=n(76),$e=n.n(Xe);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tt=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onDrop:function(t){e(t)}},Ue)},nt=function(e){var t=e.onDropHandler,n=Object(r.useCallback)((function(e){t(e)}),[]),o=Object(Je.a)(tt(n)),s=o.getRootProps,c=o.isDragActive;return a.a.createElement("div",s({className:$e.a.dropZone}),e.children,c&&a.a.createElement("div",{className:$e.a.dropZoneInfoBlock},a.a.createElement("div",{className:$e.a.dropZoneInfoBlock__message},a.a.createElement("div",{className:$e.a.dropZoneInfoBlock__title},"\u0411\u0440\u043e\u0441\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430, \u044f \u043b\u043e\u0432\u043b\u044e"),a.a.createElement("div",{className:$e.a.dropZoneInfoBlock__description},"\u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b. \u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0444\u0430\u0439\u043b\u0430 \u0434\u043e 5 \u041c\u0411"))))},rt=n(19),at=n.n(rt),ot=Ze()(at.a.input,at.a.input_left),st=Ze()(at.a.input,at.a.input_right),ct=function(e){return 0===e.trim().length},it=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,lt=function(e){return!it.test(String(e).toLowerCase())},ut=function(e){var t=e.placeholder,n=e.errorMessage,r=e.onChange,o=e.labelText,s=e.inputPosition,c=e.fieldName,i=e.value,l=function(e){switch(e){case xe.LEFT:return ot;case xe.RIGHT:return st;default:return at.a.input}}(s);return a.a.createElement("div",{className:at.a.formWFieldWrapper},Object(Ee.e)(o)&&a.a.createElement("label",{className:at.a.label,htmlFor:c},o),a.a.createElement("div",{className:at.a.inputAndErrorWrapper},a.a.createElement("input",{type:"text",value:i,id:c,onChange:r,placeholder:t,className:l}),n&&a.a.createElement("div",{className:at.a.formError},n)))},dt=function(e){var t=e.placeholder,n=e.errorMessage,r=e.onChange,o=e.labelText,s=e.fieldName,c=e.value;return a.a.createElement("div",{className:at.a.formWFieldWrapper},Object(Ee.e)(o)&&a.a.createElement("label",{className:at.a.label,htmlFor:s},o),a.a.createElement("div",{className:at.a.inputAndErrorWrapper},a.a.createElement("textarea",{value:c,onChange:r,placeholder:t,className:at.a.textArea}),n&&a.a.createElement("div",{className:at.a.formError},n)))},mt=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=t.senderName,r=t.senderEmail,o=t.recipientEmail,s=t.recipientName,c=t.emailTitle,i=t.attachedFiles,l=t.content,u=t.filesErrorList,d=t.textFieldsErrors,m=d.senderEmailErrorMessage,p=d.recipientEmailErrorMessage,f=t.messageSymbolsLeft,h=e.applyForm,g=e.onDeleteFile,E=e.onInputFilesChange,_=e.onDropZoneChange,b=e.onSenderNameChange,v=e.onSenderEmailChange,y=e.onRecipientNameChange,I=e.onRecipientEmailChange,O=e.onEmailTitleChange,S=e.onLetterContentChange;return a.a.createElement("div",{className:Ne.a.messageSender},a.a.createElement("h4",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),a.a.createElement("div",null,a.a.createElement(nt,{onDropHandler:_},a.a.createElement("div",null,a.a.createElement("div",{className:Ge},a.a.createElement(ut,{value:n,onChange:b,fieldName:"senderName",placeholder:"\u0418\u043c\u044f",labelText:"\u041e\u0442 \u043a\u043e\u0433\u043e",inputPosition:xe.LEFT}),a.a.createElement(ut,{value:r,onChange:v,fieldName:"senderEmail",placeholder:"Email",errorMessage:m,inputPosition:xe.RIGHT})),a.a.createElement("div",{className:Ge},a.a.createElement(ut,{value:s,onChange:y,fieldName:"recipientName",placeholder:"\u0418\u043c\u044f",labelText:"\u041a\u043e\u043c\u0443",inputPosition:xe.LEFT}),a.a.createElement(ut,{value:o,onChange:I,fieldName:"recipientEmail",placeholder:"Email",errorMessage:p,inputPosition:xe.RIGHT})),a.a.createElement("div",{className:Ye},a.a.createElement(ut,{value:c,onChange:O,fieldName:"title",placeholder:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430"})),a.a.createElement("div",{className:Ye},a.a.createElement(dt,{value:l,onChange:S,fieldName:"content",placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),a.a.createElement("div",{className:Ne.a.symbolsLeft},"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",a.a.createElement("span",null,f)," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")))),i.length>0&&a.a.createElement("div",{className:Ne.a.fileAttachedPreview},i.map((function(e,t){return a.a.createElement(Le,{key:t,fileName:e.name,onDelete:g})}))),a.a.createElement("div",{className:Ne.a.uploadFileBtnWrapper},a.a.createElement(Ve,{onChange:E}),u.map((function(e,t){return a.a.createElement("p",{key:t,className:Ne.a.fileError},e)}))),a.a.createElement("div",{className:Ne.a.sendBtnWrapper},a.a.createElement(Qe,{onClick:h,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}))))}}]),t}(r.PureComponent),pt={EMPTY_FIELD:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",INVALID_EMAIL:"Email \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d",INVALID_SINGLE_FILE_SIZE:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(5,"\u043c\u0431"),INVALID_TOTAL_FILE_SIZE:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(20,"\u043c\u0431"),INVALID_FILE_FORMAT:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u0441\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u043e\u0432",FILE_PARSE_ERROR:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430"},ft={senderEmail:[{validator:ct,errorMessage:pt.EMPTY_FIELD},{validator:lt,errorMessage:pt.INVALID_EMAIL}],recipientEmail:[{validator:ct,errorMessage:pt.EMPTY_FIELD},{validator:lt,errorMessage:pt.INVALID_EMAIL}]},ht={checkSingleFileSize:{validator:function(e){return e.some((function(e){return e>5e6}))},errorMessage:pt.INVALID_SINGLE_FILE_SIZE},checkTotalFilesSize:{validator:function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.length>1&&t>2e7},errorMessage:pt.INVALID_TOTAL_FILE_SIZE},checkFileFormat:{validator:function(e){return e.some((function(e){return-1===Re.indexOf(e)}))},errorMessage:pt.INVALID_FILE_FORMAT}},gt=function(e,t){return e.validator(t)?e.errorMessage:""},Et=function(e){return e.filter((function(e){return!!e}))[0]},_t=n(181),bt=n.n(_t);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=function(e){function t(){var e,n;Object(le.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(a)))).state=Ie,n.applyForm=function(){var e=n.props.sendMessage,t=n.state,r=t.senderName,a=t.senderEmail,o=t.recipientName,s=t.recipientEmail,c=t.emailTitle,i=t.content,l=t.attachedFiles;n.isFieldsvalid()&&(e({request:{action:"issue.send.test",letter:{subject:c.trim(),"from.name":r.trim(),"from.email":a.trim(),"to.name":o.trim(),message:{text:i.trim()},attaches:l},sendwhen:"test",mca:[s]}}),n.setState(yt({},Ie)))},n.validateTextFieldFields=function(){var e=n.state,t=e.senderEmail,r=e.recipientEmail,a={senderEmailErrorMessage:Et(ft.senderEmail.map((function(e){return gt(e,t)}))),recipientEmailErrorMessage:Et(ft.recipientEmail.map((function(e){return gt(e,r)})))};return n.setState({textFieldsErrors:yt({},a)}),Object.keys(a).every((function(e){return!a[e]}))},n.isFieldsvalid=function(){var e=n.state.filesErrorList;return n.validateTextFieldFields()&&!e.length},n.handleFieldChange=function(e,t){n.setState(Object(S.a)({},e,t))},n.onSenderNameChange=function(e){n.handleFieldChange("senderName",e.target.value)},n.onSenderEmailChange=function(e){n.handleFieldChange("senderEmail",e.target.value)},n.onRecipientNameChange=function(e){n.handleFieldChange("recipientName",e.target.value)},n.onRecipientEmailChange=function(e){n.handleFieldChange("recipientEmail",e.target.value)},n.onEmailTitleChange=function(e){n.handleFieldChange("emailTitle",e.target.value)},n.onLetterContentChange=function(e){var t=ve-e.target.value.length;t>=0&&n.setState({content:e.target.value,messageSymbolsLeft:t})},n.handleFilesAdd=function(){var e=Object(ge.a)(W.a.mark((function e(t){var r,a,o,s,c,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,a=Array.from(r),o=a.map((function(e){return e.size})),s=a.map((function(e){return e.name})).map(Ee.d),c=[gt(ht.checkFileFormat,s),gt(ht.checkTotalFilesSize,o),gt(ht.checkSingleFileSize,o)].filter((function(e){return!!e})),e.prev=5,e.next=8,Se(a);case 8:i=e.sent,c.length?n.setState({filesErrorList:c}):n.setState({attachedFiles:i,filesErrorList:[]}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),c.push(pt.FILE_PARSE_ERROR),n.setState({filesErrorList:c});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),n.onInputFilesChange=function(e){n.handleFilesAdd(e.target.files)},n.onDropZoneChange=function(e){n.handleFilesAdd(e)},n.onDeleteFile=function(e){var t=n.state.attachedFiles.filter((function(t){return e!==t.name}));n.setState({attachedFiles:t})},n}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loadingStatus,n=e.errorMessage;return a.a.createElement(a.a.Fragment,null,t===l.a.INITIAL?a.a.createElement(mt,{data:this.state,applyForm:this.applyForm,onDeleteFile:this.onDeleteFile,onInputFilesChange:this.onInputFilesChange,onDropZoneChange:this.onDropZoneChange,onSenderNameChange:this.onSenderNameChange,onSenderEmailChange:this.onSenderEmailChange,onRecipientNameChange:this.onRecipientNameChange,onRecipientEmailChange:this.onRecipientEmailChange,onEmailTitleChange:this.onEmailTitleChange,onLetterContentChange:this.onLetterContentChange}):a.a.createElement("div",{className:bt.a.loadingWrapper},a.a.createElement("div",{className:bt.a.successMessage},a.a.createElement(l.b,{status:t,error:n},a.a.createElement(jt,null)))))}}]),t}(r.PureComponent),Ot=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props.reset;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),a.a.createElement(Qe,{onClick:e,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435"}))}}]),t}(r.PureComponent),St=Object(c.b)((function(e){var t=e.messageSenderReducer;return{loadingStatus:t.loadingStatus,errorMessage:t.errorMessage}}),(function(e){return{sendMessage:function(t){return e(O.request(t))}}}))(It),jt=Object(c.b)(null,(function(e){return{reset:function(){return e(O.initial())}}}))(Ot),Nt=n(96),At=Object(c.b)((function(e){var t=e.messageHistoryReducer;return{loadingStatus:t.loadingStatus,errorMessage:t.errorMessage,data:t.data,selectedHistoryItems:e.selectedHistoryItemsReducer.selectedHistoryItems}}),(function(e){return{getHistory:function(){return e(w.request())},setSelectedItem:function(t){return e(L(t))},deleteSelectedHistoryItem:function(t){return e(T({id:t}))},deleteBulk:function(){return e(H())},setBulk:function(t){return e(B(t))}}}))(Nt.a),Ct=n(182),Ft=n.n(Ct),kt=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedHistoryItems,n=e.deleteSelectedHistoryItem;return a.a.createElement("div",null,a.a.createElement("h3",null,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),t.length?a.a.createElement("ul",null,t.map((function(e,t){return a.a.createElement("li",{key:t,className:Ft.a.selectedItemWrapper},a.a.createElement("b",null,"ID: ",e.id)," ",Ee.c," \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",e.date,a.a.createElement("img",{src:ke.a,className:Ft.a.deleteIcon,onClick:function(){return n(e.id)},alt:"delete icon"}))}))):a.a.createElement("p",null,"\u041d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"))}}]),t}(r.PureComponent),wt=Object(c.b)((function(e){return{selectedHistoryItems:e.selectedHistoryItemsReducer.selectedHistoryItems}}),(function(e){return{deleteSelectedHistoryItem:function(t){return e(T({id:t}))}}}))(kt),Dt=function(e){function t(){return Object(le.a)(this,t),Object(de.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(ue.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:he.a.background},a.a.createElement("div",{className:he.a.contentWrapper},a.a.createElement(St,null),a.a.createElement(At,null),a.a.createElement(wt,null)))}}]),t}(r.Component),Mt=function(){var e=Object(i.e)(R,ie(Object(i.a)(ce)));return ce.run(se),e}();s.a.render(a.a.createElement(c.a,{store:Mt},a.a.createElement(Dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,n){e.exports={fileInfoBlock:"AttachedFileView_fileInfoBlock__3xuMV",clip:"AttachedFileView_clip__1-bQT",fileViewer:"AttachedFileView_fileViewer__3iwBC",deleteBtn:"AttachedFileView_deleteBtn__1nMap",deleteIcon:"AttachedFileView_deleteIcon__1jXtv",fileName:"AttachedFileView_fileName__1QIUq"}},76:function(e,t,n){e.exports={dropZone:"DropZone_dropZone__3jSrU",dropZoneInfoBlock:"DropZone_dropZoneInfoBlock__1nf0y",dropZoneInfoBlock__message:"DropZone_dropZoneInfoBlock__message__11mYV",dropZoneInfoBlock__title:"DropZone_dropZoneInfoBlock__title__1KQld",dropZoneInfoBlock__description:"DropZone_dropZoneInfoBlock__description__2kJPq"}},8:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i}));var r=function(e){return"undefined"!==typeof e},a=function(e){return null===e};function o(e){var t=e.split(".");return t[t.length-1]}var s="",c=[],i="\u2014"},96:function(e,t,n){"use strict";var r=n(15),a=n(16),o=n(18),s=n(12),c=n(17),i=n(0),l=n.n(i),u={date:"date",status:"status",theme:"theme"},d=n(20),m=n.n(d),p=n(31),f=n.n(p),h=f()(m.a.tdStatus,m.a.tdStatus_error),g=f()(m.a.tdStatus,m.a.tdStatus_success),E=f()(m.a.tdStatus,m.a.tdStatus_inprogress),_=n(8),b=l.a.createElement("span",{style:{color:"#13e613",fontSize:"18px"}},"\u2191"),v=l.a.createElement("span",{style:{color:"#e6714e",fontSize:"18px"}},"\u2193"),y=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.sortByTheme,r=e.sortByDate,a=e.handleSelectItem,o=e.sortField,s=e.isSortOrderDesc,c=e.selectedHistoryItems,i=e.handleBulkUpdate,d=o===u.date&&s?v:b,p=o===u.theme&&s?v:b,f=function(e,t){return e.length===t.length}(c,t);return l.a.createElement("div",{className:m.a.messageHistoryBlock},l.a.createElement("div",{className:m.a.tableTitle},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),!!t.length&&l.a.createElement("table",{className:m.a.tableHistory},l.a.createElement("thead",{className:m.a.tableHead},l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("input",{onChange:function(){return i(f)},checked:f,type:"checkbox"})),l.a.createElement("th",{onClick:r},l.a.createElement("span",{className:m.a.columnName},"\u0414\u0430\u0442\u0430")," ",d),l.a.createElement("th",{onClick:n},l.a.createElement("span",{className:m.a.columnName},"\u0422\u0435\u043c\u0430")," ",p," "),l.a.createElement("th",{className:m.a.thStatus},"\u0421\u0442\u0430\u0442\u0443c"))),l.a.createElement("tbody",null,t.map((function(e,t){var n,r=function(e,t){return e.some((function(e){return e.id===t}))}(c,e.id);return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("input",{onChange:function(){return a(e,r)},checked:r,type:"checkbox"})),l.a.createElement("td",{className:m.a.tdDate},e.date),l.a.createElement("td",{className:m.a.tdTheme,title:e.theme},e.theme||_.c),l.a.createElement("td",{className:(n=e.status,-1===n?g:n>-1?E:h)},function(e){return-1===e?"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":e>-1?"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438":"\u041e\u0448\u0438\u0431\u043a\u0430"}(e.status)))})))),!t.length&&l.a.createElement("div",{className:m.a.emptyHistory},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0435\u0449\u0451 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c"))}}]),t}(i.PureComponent),I=n(179),O=n.n(I),S=function(e,t,n){return e>t?n?1:-1:e<t?n?-1:1:0},j=function(e,t,n){var r=O()(e).unix(),a=O()(t).unix();return S(r,a,n)},N=function(e,t,n){return!n},A=function(e,t,n,r){return e.slice().sort((function(e,a){return r(e[t],a[t],n)}))},C=n(23);n.d(t,"a",(function(){return k}));var F={sortField:u.date,isSortOrderDesc:!1,dataUI:[],data:[]},k=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state=F,n.handleBulkUpdate=function(e){var t=n.props,r=t.setBulk,a=t.deleteBulk,o=t.data;e?a():r(o)},n.handleSelectItem=function(e,t){var r=n.props,a=r.setSelectedItem,o=r.deleteSelectedHistoryItem;t?o(e.id):a(e)},n.sortByTheme=function(){var e=n.props.data,t=n.state,r=t.sortField,a=t.isSortOrderDesc,o=u.theme,s=N(r,o,a),c=A(e,o,s,S);n.setState({dataUI:c,isSortOrderDesc:!a,sortField:o})},n.sortByDate=function(){var e=n.props.data,t=n.state.isSortOrderDesc,r=u.date,a=A(e,r,t,j);n.setState({dataUI:a,isSortOrderDesc:!t,sortField:r})},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getHistory)()}},{key:"render",value:function(){var e=this.state,t=e.sortField,n=e.dataUI,r=e.isSortOrderDesc,a=this.props,o=a.loadingStatus,s=a.errorMessage,c=a.selectedHistoryItems;return l.a.createElement(C.b,{error:s,status:o},l.a.createElement(y,{data:n,selectedHistoryItems:c,sortByTheme:this.sortByTheme,sortByDate:this.sortByDate,handleSelectItem:this.handleSelectItem,handleBulkUpdate:this.handleBulkUpdate,sortField:t,isSortOrderDesc:r}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data?{data:e.data,dataUI:e.data}:null}}]),t}(i.PureComponent)},97:function(e,t,n){e.exports={input:"InputFile_input__1OUKf",label:"InputFile_label__2OHwG",clipperIcon:"InputFile_clipperIcon__pvUDk",text:"InputFile_text__3NjkY"}}},[[278,1,2]]]);
//# sourceMappingURL=main.845419d8.chunk.js.map